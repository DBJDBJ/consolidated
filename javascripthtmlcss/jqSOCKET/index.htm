<!DOCTYPE html > 
<html>
<!--
//                                                                  
//  DBJ.ORG - Solution Evolution(tm)
//                                                                  
//  Copyright � 2010 - 2013 by DBJ.ORG. 
//  All Rights Reserved. GPL applies.                                             
//                                                                  
//  THIS IS UNPUBLISHED PROPRIETARY SOURCE CODE OF DBJ.ORG   
//                                                                  
//  The copyright notice above does not evidence any                
//  actual or intended publication of such source code.             
//                                                                             
-->
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>DBJ*jsPLUG&trade; 1.0.0 &copy;2009-2013 by DBJ.ORG</title>
<!-- link href="http://dbj.org/4/blueprint/screen.css" rel="stylesheet" type="text/css" media="all" /-->
<!-- link href="http://dbj.org/4/blueprint/ie.css" rel="stylesheet" type="text/css" media="all" /-->
<link href="common.css" rel="stylesheet" type="text/css" media="all" />
</head>
<body>
<div id="container">
<div id="toolbar" class="toolbar" >
<button id="highlight">Highlight</button><button id="eval">Eval</button>
</div>
<div class="dbjPanel" style="float:left;">
<pre id="display" contenteditable="true" style="width:99%;height:99%" class="prettyprint" >
      /* Object to store things collected from dom elements */
    var result = {};
    /* Function called on each element in jQuery stack, to collect attributes or style properties */
    function collector() {
        var names = arguments,
            id_ = function (el) {
                return el.tagName + (el.id ? "#" + el.id : "");
            },
            set_ = function (obj) {
                return obj || {};
            },
for_each_name = function (callback) {
     for (var j = 0, l = names.length; j < l; j++) callback(names[j], j);
            };
        /* the "plug" */
        return function (P) {
            var id = id_(this);
            for_each_name(function (name, idx) {
                if (undefined === P.nvo[name]) {
                result[id][name] = "undefined";
                } else {
                result[id] = set_(result[id]);
                result[id][name] = P.nvo[name].value;
                }
            });
            return false; 
        }
    };
var counter_ = 0;
$("[id][~ bottom]")
.S(collector('bottom'))
.S(function(P){
counter_++;
       P.let("bottom", 200); return true;
});
    var show_ = JSON.stringify(result);
    "Collector result:\n\n" + 
    show_.split("{").join("{\n").split("}").join("}\n") + 
    "\n\nTrivial plugin visited: " + (counter_++)  + ", times" ;
</pre>
</div>
<div class="dbjPanel" style="float:right;">
<textarea  id="rezult" rows="80" cols="160" style="width:99%;height:99%" class="editableText" ></textarea>
</div>
<div id="specimen" att1="ATT1" att2="true" ><button id="specimen_button" >id=&quot;specimen&quot;</button></div>
<!-- eof #container -->
</div>
</body>
<script src="jquery-1.9.1.js"></script>
<script src="jquery.dbjSAS.js" type="text/javascript" ></script>
<script src="jquery.metasocket.js" type="text/javascript" ></script>
<script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
<script src="common.js"></script>
</html>
