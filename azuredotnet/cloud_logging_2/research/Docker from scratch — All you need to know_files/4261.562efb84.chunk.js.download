(self.webpackChunklite=self.webpackChunklite||[]).push([[4261],{63045:(e,t,n)=>{"use strict";n.d(t,{KL:()=>V,rF:()=>z,Lk:()=>Y,eB:()=>M,qy:()=>X,FB:()=>K});var r=n(28655),l=n.n(r),o=n(59713),i=n.n(o),a=n(63038),s=n.n(a),u=n(46829),c=n(71439),d=n(67294),m=n(78757),f=n(30826),p=n(14337),v=n(12549),b=n(75210),g=n(77136),h=n(6443),E=n(62685),y=n(28695),I=n(54341),S=n(77355),w=n(93310),x=n(26244),O=n(73917),_=n(87691),B=n(14199),L=n(18627),T=n(66411),P=n(14646),F=n(18122),D=n(97217),R=n(21372),N=n(50458),k=n(68216);function C(){var e=l()(["\n  query PublisherSidebarFollowsQuery($userId: ID!, $limit: Int) {\n    userFollows(userId: $userId, limit: $limit) {\n      ... on User {\n        hasDomain\n        ...UserMentionTooltip_user\n        ...PublisherSidebarFollows_followedEntity\n      }\n      ... on Collection {\n        ...CollectionTooltip_collection\n        ...PublisherSidebarFollows_followedEntity\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return C=function(){return e},e}function j(){var e=l()(["\n  fragment PublisherSidebarFollows_followedEntity on Publisher {\n    __typename\n    id\n    name\n    ...PublisherAvatar_publisher\n  }\n  ","\n"]);return j=function(){return e},e}function U(){var e=l()(["\n  fragment PublisherSidebarFollows_user on User {\n    id\n    name\n    username\n    ...PublisherFollowingCount_publisher\n    ...userUrl_user\n  }\n  ","\n  ","\n"]);return U=function(){return e},e}function W(){var e=l()(["\n  fragment PublisherSidebarFollows_customStyleSheet on CustomStyleSheet {\n    id\n    blogroll {\n      visibility\n    }\n  }\n"]);return W=function(){return e},e}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A,H=function(e){var t=e.entity,n=e.tag,r=void 0===n?"h4":n,l=(0,P.I)()([(0,B.n)({name:"detail",scale:"S",clamp:1,leadingTrim:!1,color:"LIGHTER"}),{wordBreak:"break-all"}]),o=(0,m.P)(t);return d.createElement(S.x,{marginBottom:"8px",paddingRight:"10px",tag:"span"},d.createElement(w.r,{href:o},d.createElement(x.$,{placement:"right",targetDistance:5,mouseEnterDelay:300,mouseLeaveDelay:400,noPortal:!1,disablePortalOverlay:!0,role:"tooltip",popoverRenderFn:function(){return"User"===t.__typename?d.createElement(y.K,{user:t}):d.createElement(b.L,{collection:t,buttonSize:"COMPACT",buttonStyleFn:function(e){return e?"OBVIOUS":"STRONG"}})}},d.createElement(r,{className:l},t.name))))},V=function(e){var t;return{isBlogrollInSidebar:(null==e||null===(t=e.blogroll)||void 0===t?void 0:t.visibility)===D.n$.BLOGROLL_VISIBILITY_SIDEBAR}},z=function(e){var t,n=null==e||null===(t=e.blogroll)||void 0===t?void 0:t.visibility,r=!n||n===D.n$.BLOGROLL_VISIBILITY_UNSET,l=n===D.n$.BLOGROLL_VISIBILITY_SIDEBAR;return{shouldShowBlogroll:!(!r&&!l||void 0===e)}},Y=d.createContext({homepageUserId:null,postId:null,catalogId:null});!function(e){e[e.Initial=0]="Initial",e[e.Secondary=1]="Secondary",e[e.Dismissed=2]="Dismissed",e[e.Navigating=3]="Navigating",e[e.Updated=4]="Updated"}(A||(A={}));var M=function(e){var t,n,r=e.publisher,l=e.isVisible,o=e.customStyleSheet,i=e.withBottomBorder,a=void 0!==i&&i,c=e.withTopBorder,m=void 0===c||c,p=e.publisherTag,b=(0,P.I)(),g=(0,h.H)().value,y=(0,N.MzF)(null!==(t=r.username)&&void 0!==t?t:""),I=d.useState(A.Initial),x=s()(I,2),B=x[0],k=x[1],C="User"===r.__typename&&r.id===(null==g?void 0:g.id),j=(null==o||null===(n=o.blogroll)||void 0===n?void 0:n.visibility)===D.n$.BLOGROLL_VISIBILITY_HIDDEN,U=z(o).shouldShowBlogroll,W=D.T3.BLOGROLL_ENABLE,$=U&&C&&!B&&!(null!=g&&g.dismissableFlags.includes(W)),V=(0,L.Av)(),M=d.useContext(Y),X=(0,F.g)({onPresentedFn:function(){return V.event("sidebar.blogrollViewed",G(G({},M),{},{viewerIsAuthor:C}))}}),K=(0,u.useLazyQuery)(Q,{ssr:!1,variables:{userId:r.id,limit:5}}),q=s()(K,2),J=q[0],Z=q[1],ee=Z.called,te=Z.loading,ne=Z.error,re=Z.data,le=(re=void 0===re?{userFollows:void 0}:re).userFollows,oe=(0,v.gp)(r).followingCount,ie=d.useCallback((function(e){return function(){return d.createElement(S.x,{minWidth:"240px",padding:"16px"},d.createElement(_.F,{scale:"S",color:"WHITE"},"Blogrolls help your readers discover writers you follow. Writers who have published most recently show up at the top."),d.createElement(S.x,{marginTop:"8px"},d.createElement(_.F,{scale:"S",color:"WHITE"},$&&d.createElement(w.r,{onClick:function(){var t,n;t=A.Dismissed,n=E.$.DISMISSED,k(t),e(n)}},d.createElement("span",{className:b(O.u)},"Got it")))))}}),[B]);return!U||j?null:ee?te||ne||!le||!le.length||oe<5?null:d.createElement(T.cW,{source:{name:"blogrolls_sidebar",postId:M.postId||void 0,catalogId:M.catalogId||void 0}},d.createElement(S.x,{ref:X,position:"relative",borderTop:m?"BASE_LIGHTER":"NONE",borderBottom:a?"NONE":void 0},d.createElement(S.x,{marginTop:"32px",marginBottom:"32px"},d.createElement(E.o,{flag:W,isVisible:l&&$,targetDistance:15,renderFn:ie},d.createElement("span",{className:b({textTransform:"uppercase",marginBottom:"8px"})},d.createElement(_.F,{scale:"S",tag:"span"},"".concat(r.name," Follows"))),d.createElement("ul",{className:b({marginTop:"8px"})},le.map((function(e){return d.createElement("li",{className:b({display:"grid",gridTemplateColumns:"auto 1fr auto"}),key:null==e?void 0:e.id},d.createElement(S.x,{paddingRight:"12px"},d.createElement(f.G,{link:!0,publisher:e,scale:"XXXS"})),d.createElement("section",{className:b({wordBreak:"break-word"})},d.createElement(H,{entity:e,tag:p})))}))),d.createElement(_.F,{scale:"S"},d.createElement(w.r,{linkStyle:"SUBTLE",href:y},"See all (".concat((0,R.rR)(oe),")"))))))):(J(),null)},X=(0,c.Ps)(W()),K=(0,c.Ps)(U(),v.b5,k.$m),q=(0,c.Ps)(j(),p.v),Q=(0,c.Ps)(C(),I.O,g.g,q)},27693:(e,t,n)=>{"use strict";n.d(t,{ZR:()=>p,HX:()=>b,b2:()=>g,hE:()=>h});var r=n(59713),l=n.n(r),o=n(67294),i=n(33380),a=n(92071),s=n(96370),u=n(77355),c=n(14646),d=n(34135),m=n(37734),f=n(84509),p=131,v=function(e){return{pointerEvents:e?"auto":"none"}},b=function(e){var t=e.children,n=e.disableTransition,r=e.isFixed,d=e.scrollableRef,f=e.sidebarRef,b=e.testId,g=e.topOffset,h=e.visible,E=e.fixedWidth,y=e.extraWide,I=void 0!==y&&y,S=(0,c.I)(),w=function(e){var t,n,r,s=e.isFixed,u=void 0===s||s,c=e.disableTransition,d=void 0!==c&&c,f=e.scrollableRef,p=e.topOffset,v=e.visible,b=e.fixedWidth,g=e.extraWide,h=void 0!==g&&g,E=(r=null===(t=o.useContext(i.u6).watchedBounds.get("header"))||void 0===t||null===(n=t.ref)||void 0===n?void 0:n.current)?r.offsetTop+r.offsetHeight+64:a.Je+54+40;return function(e){return function(t){var n,r=h?"@media all and (max-width: 1240px)":(0,m.uc)(t,e,t.grid.xStep*t.grid.marginSteps.lg,f&&"current"in f?f.current:null),o=void 0===p?E:p;return n={opacity:v?1:0,pointerEvents:"none",position:u?"fixed":"absolute",willChange:"opacity, transform",width:b?"".concat(b,"px"):"100%",transform:"translateY(".concat(o,"px)"),top:0},l()(n,(0,m.nk)("no-preference"),{transition:d?"opacity 0s":"opacity 200ms"}),l()(n,r,{display:"none"}),n}}}({isFixed:r,scrollableRef:d,topOffset:g,visible:h,disableTransition:n,fixedWidth:E,extraWide:I}),x=I?197:p;return o.createElement("div",{className:S(w(x)),"data-test-id":b},o.createElement(s.P,{size:"outset"},o.createElement(u.x,{display:"flex",flexDirection:"column",width:"".concat(x,"px"),ref:f},o.createElement("div",{className:S(v(h))},t))))},g=function(e,t,n,r){if(!e)return!1;var l=r.threshold||10,o=Array.from(t.values()).filter((function(e){var t,r=e.ref,l=e.opts;return n.includes(null!==(t=l.type)&&void 0!==t?t:"")&&!!r.current})).map((function(e){var t=e.ref,n=e.opts,r=n&&n.offset,l=(0,f.L6)(t.current);return(0,f.Dd)(l,r)})),i=(0,f.L6)(e),a=0===i.width;return!o.some((function(e){return(0,f.kK)(e,i,l)}))&&!a},h=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=n?"scroll_throttled":"scroll";return function(){var n=(0,d.jC)(null!=t?t:void 0);return n.on(r,e),n.on("scroll_end",e),n.on("resize_throttled",e),function(){n.off(r,e),n.off("scroll_end",e),n.off("resize_throttled",e)}}}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/4261.562efb84.chunk.js.map