(self.webpackChunklite=self.webpackChunklite||[]).push([[47464],{99171:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(67294);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var r=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.18 2.6a1.82 1.82 0 0 1 3.64 0v2.07H2.18V2.6zm4.37 2.07V2.6C6.55 1.17 5.4 0 4 0a2.58 2.58 0 0 0-2.55 2.6v2.07c-.39 0-.75.17-1.03.46-.27.3-.42.7-.42 1.12v3.17a1.7 1.7 0 0 0 .42 1.12c.14.14.3.26.47.34.18.08.37.12.56.12h5.1c.39 0 .75-.17 1.03-.47.27-.3.42-.7.42-1.11V6.25a1.7 1.7 0 0 0-.42-1.12c-.14-.14-.3-.26-.47-.34a1.35 1.35 0 0 0-.56-.12z",fill:"#757575"});const i=function(e){return a.createElement("svg",o({width:8,height:11,viewBox:"0 0 8 11",fill:"none"},e),r)}},538:(e,t,n)=>{"use strict";n.d(t,{l:()=>i});var a=n(319),o=n.n(a),r=n(68216),i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"BookCover_bookEdition"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BookEdition"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cover"}},{kind:"Field",name:{kind:"Name",value:"book"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bookProfileUrl_book"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"bookProfileUrl_bookEdition"}}]}}].concat(o()(r.yJ.definitions),o()(r.q$.definitions))}},37302:(e,t,n)=>{"use strict";n.d(t,{F:()=>d});var a=n(67294),o=n(4381),r=n(77355),i=n(93310),l=n(6402),c=n(43487),s=n(50458),d=function(e){var t=e.bookEdition,n=e.width,d=e.marginRight,u=e.marginBottom,m=e.marginLeft,g=e.marginTop,f=e.height,p=e.strategy,v=e.borderRadius,h=e.linkToProfile,I=(0,c.v9)((function(e){return e.config.authDomain}));if(a.useEffect((function(){f||n?f&&n&&!p&&l.k.warn("BookCover: Strategy is mandatory when both width and height are set"):l.k.error("BookCover: Either width or height is mandatory")}),[f,n,p]),!f&&!n)return null;var C=a.createElement(r.x,{marginRight:d,marginLeft:m,marginTop:g,marginBottom:u,borderRadius:v},t.cover?a.createElement(o.UV,{miroId:t.cover,width:n,height:f,strategy:p}):a.createElement(r.x,{height:"".concat(f||1.5*n,"px"),width:"".concat(n||f/1.5,"px"),backgroundColor:"BASE_NORMAL"}));return h&&(C=a.createElement(i.r,{href:(0,s.bQx)(t.book,{edition:t,authDomain:I}),inheritBorder:!1},C)),C}},19416:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var a=n(67294),o=n(77355),r=n(87529),i=function(e){var t=e.loading,n=e.text,i=void 0===n?"Done":n;return a.createElement(o.x,{display:"inline-flex",alignItems:"center",tag:"span"},i,t&&a.createElement(o.x,{paddingLeft:"10px",tag:"span"},a.createElement(r.T,{size:"18px"})))}},74917:(e,t,n)=>{"use strict";n.d(t,{n:()=>z,E:()=>L});var a=n(28655),o=n.n(a),r=n(71439),i=n(67294),l=n(60015),c=n(77355),s=n(87529),d=n(87691),u=n(61609),m=n(14646),g=n(97217);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var p=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.73 3.08A2.21 2.21 0 0 1 5 .94c1.26 0 2.27.97 2.27 2.14v2.44H2.73V3.08zm5.46 2.44V3.08C8.18 1.38 6.74 0 5 0a3.13 3.13 0 0 0-3.18 3.08v2.44c-.49 0-.95.2-1.29.55A1.9 1.9 0 0 0 0 7.39v3.74a1.9 1.9 0 0 0 .53 1.32A1.8 1.8 0 0 0 1.8 13H8.2c.48 0 .94-.2 1.28-.55.34-.35.53-.82.53-1.32V7.4a1.9 1.9 0 0 0-.53-1.32 1.8 1.8 0 0 0-1.28-.55z",fill:"#A8A8A8"});const v=function(e){return i.createElement("svg",f({width:10,height:13,viewBox:"0 0 10 13",fill:"none"},e),p)};var h=n(92305),I=n(63038),C=n.n(I),E=n(54758);function b(){var e=o()(["\n  fragment WithToggleInsideCatalog_post on Post {\n    id\n    viewerEdge {\n      catalogsConnection {\n        catalogsContainingThis(type: LISTS) {\n          catalogId\n        }\n        predefinedContainingThis {\n          predefined\n        }\n      }\n    }\n  }\n"]);return b=function(){return e},e}function y(){var e=o()(["\n  fragment WithToggleInsideCatalog_bookEdition on BookEdition {\n    id\n    book {\n      id\n    }\n    viewerEdge {\n      catalogsConnection {\n        catalogsContainingThis(type: LISTS) {\n          catalogId\n        }\n        predefinedContainingThis {\n          predefined\n        }\n      }\n    }\n  }\n"]);return y=function(){return e},e}function x(){var e=o()(["\n  fragment WithToggleInsideCatalog_catalog on Catalog {\n    id\n    version\n    predefined\n  }\n"]);return x=function(){return e},e}function w(e){var t,n,a=e.children,o=e.target,r=e.kind,l=e.catalog,c=e.viewer,s=i.useMemo((function(){if(l.predefined){var e,t=null===(e=o.viewerEdge.catalogsConnection)||void 0===e?void 0:e.predefinedContainingThis.find((function(e){return e.predefined===l.predefined}));return[!!t,null==t?void 0:t.catalogItemIds]}var n,a=null===(n=o.viewerEdge.catalogsConnection)||void 0===n?void 0:n.catalogsContainingThis.find((function(e){return e.catalogId===l.id}));return[!!a,null==a?void 0:a.catalogItemIds]}),[l.predefined,l.id,o.viewerEdge]),d=C()(s,2),u=d[0],m=d[1],f=(0,E.qY)(c.id,l.id,l.version,o.id,r,r===g.ej.BOOK_EDITION?{bookId:o.book.id}:void 0,null!==(t=l.predefined)&&void 0!==t?t:void 0),p=C()(f,2),v=p[0],h=p[1].loading,I=(0,E.jN)(c.id,l.id,l.version,o.id,r,m||[],r===g.ej.BOOK_EDITION?{bookId:o.book.id}:void 0,null!==(n=l.predefined)&&void 0!==n?n:void 0),b=C()(I,2),y=b[0],x=b[1].loading;return a({toggleInsideCatalog:u?y:v,isInsideCatalog:u,loading:h||x})}var k=(0,r.Ps)(x());function O(){var e=o()(["\n  fragment CatalogAddToListItem_catalog on Catalog {\n    id\n    name\n    visibility\n    predefined\n    version\n    ...WithToggleInsideCatalog_catalog\n  }\n  ","\n"]);return O=function(){return e},e}(0,r.Ps)(y()),(0,r.Ps)(b());var _={display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:"16px",paddingRight:"5px"},S=function(e){return{marginBottom:"1px","& path":{fill:e.baseColor.border.normal}}};function P(e){var t=e.catalog,n=e.target,a=e.kind,o=e.viewer,r=(0,m.I)();return i.createElement(w,{viewer:o,target:n,kind:a,catalog:t},(function(e){var n=e.toggleInsideCatalog,a=e.isInsideCatalog,o=e.loading,l=t.predefined?(0,h.S6)(t.predefined):t.name;return i.createElement("div",{className:r(_)},i.createElement(u.X,{key:t.id,checked:a,checkboxStyle:"OBVIOUS",onChange:n,disabled:o||t.visibility===g.n2.LOCKED,textScale:"L",clampText:1},l),t.visibility!==g.n2.PUBLIC&&i.createElement(c.x,{paddingLeft:"8px"},i.createElement(v,{className:r(S)})))}))}var j=(0,r.Ps)(O(),k);function T(){var e=o()(["\n  fragment CatalogAddToList_catalog on Catalog {\n    ...CatalogAddToListItem_catalog\n  }\n  ","\n"]);return T=function(){return e},e}function z(e){var t=e.target,n=e.kind,a=e.catalogs,o=e.isLoading,r=e.viewer,u=e.fetchMore,m=e.scrollableEl;return o?i.createElement(c.x,{display:"flex",justifyContent:"center",padding:"40px 0"},i.createElement(d.F,{color:"DARKER",scale:"L"},i.createElement(s.T,null))):a?i.createElement(l.P,{fetchMore:u,scrollableEl:m},a.map((function(e){return i.createElement(P,{viewer:r,key:e.id,catalog:e,target:t,kind:n})}))):null}var L=(0,r.Ps)(T(),j)},54434:(e,t,n)=>{"use strict";n.d(t,{CI:()=>O,Y_:()=>P,u1:()=>j});var a=n(28655),o=n.n(a),r=n(63038),i=n.n(r),l=n(59713),c=n.n(l),s=n(71439),d=n(67294),u=n(37302),m=n(538),g=n(25735),f=n(4381),p=n(77355),v=n(14646),h=n(34135),I=n(43487),C=n(46696);function E(){var e=o()(["\n  fragment CatalogCovers_catalogItemV2 on CatalogItemV2 {\n    catalogItemId\n    entity {\n      __typename\n      ... on BookEdition {\n        ...BookCover_bookEdition\n      }\n      ... on Post {\n        previewImage {\n          id\n          alt\n        }\n      }\n    }\n  }\n  ","\n"]);return E=function(){return e},e}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x={xs:-40,sm:-40,md:-45,lg:-80},w={xs:-55,sm:-60,md:-65,lg:-130},k={xs:0,sm:350,md:490,lg:680},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=(0,I.v9)((function(e){return e.client.hydrated})),n=y(y({},k),e),a=d.useState("lg"),o=i()(a,2),r=o[0],l=o[1];return d.useEffect((function(){var e=function(){window.innerWidth>=n.lg?l("lg"):window.innerWidth>=n.md?l("md"):window.innerWidth>=n.sm?l("sm"):window.innerWidth>=n.xs&&l("xs")};return t&&(e(),h.V6.on("resize",e)),function(){t&&h.V6.off("resize",e)}}),[t,n.lg,n.md,n.sm,n.xs]),r},_=function(e,t,n){return function(a){var o=n&&("xs"===t||"sm"===t),r=o?3*x[t]:w[t],i=1===e?"".concat(o?2*x[t]:x[t],"px"):2===e?"".concat(r,"px"):void 0;return{position:"relative",borderRight:e<2?"".concat(3,"px solid ").concat(a.baseColor.background.light):void 0,backgroundColor:a.baseColor.background.light,zIndex:3-e,marginLeft:i}}},S=function(e){var t,n=e.catalogItem,a=e.width,o=e.height,r=e.isMobile,i=null==n?void 0:n.entity,l=d.createElement(p.x,{height:"".concat(o,"px"),width:"".concat(a,"px"),background:"#292929"},d.createElement(p.x,{borderRadius:"50%",width:"100%",height:"100%",background:"#757575"}));return i&&("BookEdition"===i.__typename?l=d.createElement(u.F,{bookEdition:i,width:a,height:o,strategy:C._S.Crop}):"Post"===i.__typename&&null!==(t=i.previewImage)&&void 0!==t&&t.id&&(l=d.createElement(f.UV,{miroId:i.previewImage.id,alt:i.previewImage.alt||"",width:a,height:o,aspectRatio:r?f.Pr.FourToThree:void 0,strategy:C._S.Crop,loading:"lazy"}))),d.createElement(p.x,{height:"".concat(o,"px")},l)},P=function(e){var t=e.catalogItems,n=e.isEmbeded,a=void 0!==n&&n,o=e.coverWidth,r=e.coverHeight,i=e.breakpoints,l=(0,v.I)(),c=!!(0,g.VB)({name:"enable_lite_book_experience",placeholder:!1}),s=O(i),u=t.filter((function(e){var t,n=e.entity;return!("Post"!==(null==n?void 0:n.__typename)||null===(t=n.previewImage)||void 0===t||!t.id)||!(!c||"BookEdition"!==(null==n?void 0:n.__typename)||!n.cover)})),m=[u[0],u[1],u[2]],f="sm"===s||"xs"===s,h=function(e,t){return 3*t+x[e]+w[e]+6}(s,o);return d.createElement(p.x,{display:"flex",overflow:"hidden",justifyContent:f?a?"space-between":"flex-start":"flex-end",width:f?"100%":"".concat(h,"px"),borderRadius:f?"0 0 3px 3px":"0 3px 3px 0",position:"relative",flexShrink:"0"},m.map((function(e,t){return d.createElement("div",{key:(null==e?void 0:e.catalogItemId)||t,className:l(_(t,s,a))},d.createElement(S,{isMobile:f,catalogItem:e,height:r,width:o}))})))},j=(0,s.Ps)(E(),m.l)},57799:(e,t,n)=>{"use strict";n.d(t,{l:()=>j,c:()=>T});var a=n(28655),o=n.n(a),r=n(71439),i=n(67294),l=n(1109),c=n(25735),s=n(93310),d=n(77355),u=n(47230),m=n(52069),g=n(87691),f=n(18627),p=n(66411),v=n(14646),h=n(18122),I=n(92661),C=n(97217),E=n(99171),b=n(92305),y=n(54434);function x(){var e=o()(["\n  fragment CatalogsListItemCovers_catalog on Catalog {\n    listItemsConnection: itemsConnection(pagingOptions: {limit: 10}) {\n      items {\n        catalogItemId\n        ...CatalogCovers_catalogItemV2\n      }\n    }\n  }\n  ","\n"]);return x=function(){return e},e}var w={xs:100,sm:140,md:90,lg:166},k={xs:105,sm:105,md:166,lg:166},O=function(e){var t=e.catalog.listItemsConnection.items,n=(0,y.CI)();return i.useMemo((function(){return i.createElement(y.Y_,{coverHeight:k[n],coverWidth:w[n],catalogItems:t})}),[n,t])},_=(0,r.Ps)(x(),y.u1);function S(){var e=o()(["\n  fragment CatalogsListItem_catalog on Catalog {\n    id\n    name\n    predefined\n    visibility\n    creator {\n      id\n      username\n    }\n    ...getCatalogSlugId_Catalog\n    ...formatItemsCount_catalog\n    ...CatalogsListItemCovers_catalog\n  }\n  ","\n  ","\n  ","\n"]);return S=function(){return e},e}var P=function(e){return{marginBottom:"1px","& path":{fill:e.baseColor.text.lighter}}},j=function(e){var t=e.catalog,n=t.name,a=t.visibility,o=t.id,r=t.predefined,x=(0,c.VB)({name:"enable_lite_book_experience",placeholder:!1}),w=(0,l.SZ)(t,x),k=a!==C.n2.PUBLIC,_=r?(0,b.S6)(r):n,S=(0,f.Av)(),j=(0,p.pK)(),T=(0,y.CI)(),z=(0,h.g)({onPresentedFn:function(){S.event("list.presented",{listId:t.id,source:j})}}),L=(0,v.I)(),R="sm"===T||"xs"===T,B=(0,I.qt)("ShowUserList",{username:t.creator.username||"",catalogSlugId:(0,b.EJ)(t)});return i.createElement(s.r,{href:B},i.createElement(d.x,{ref:z,border:"BASE_LIGHTER",borderRadius:"4px",marginBottom:"40px",maxWidth:R?"100%":"740px",width:"100%",display:"flex",justifyContent:"space-between",backgroundColor:"BASE_LIGHT",flexDirection:R?"column":"row"},i.createElement(d.x,{key:o,display:"flex",flexDirection:"column",padding:"24px",justifyContent:"space-between",wordBreak:"break-word"},i.createElement(m.Dx,{clamp:2,scale:R?"XS":"S"},_),i.createElement(d.x,{display:"flex",alignItems:"center",flexWrap:"wrap-reverse"},i.createElement(d.x,{display:R?"none":"block",flexShrink:"0",marginRight:"12px"},i.createElement(u.z,{size:"SMALL",buttonStyle:"SUBTLE",href:B},"View list")),(k||w)&&i.createElement(d.x,{display:"flex",margin:"6px 0"},w&&i.createElement(g.F,{scale:"S",color:"LIGHTER"},w),k&&i.createElement(d.x,{paddingLeft:"8px"},i.createElement(E.Z,{className:L(P)}))))),i.createElement(O,{catalog:t})))},T=(0,r.Ps)(S(),b.ge,l.BR,_)},43150:(e,t,n)=>{"use strict";n.d(t,{W:()=>d,WU:()=>u,dT:()=>m,u7:()=>g,Ln:()=>f,Dk:()=>p});var a=n(28655),o=n.n(a),r=n(71439),i=n(74917),l=n(97217),c=n(95408);function s(){var e=o()(["\n  query GetCatalogsByUser(\n    $userId: ID!\n    $pagingOptions: CatalogPagingOptionsInput!\n    $type: CatalogType!\n    $withCatalogDetails: Boolean!\n  ) {\n    readingList: getPredefinedCatalog(userId: $userId, type: READING_LIST) {\n      __typename\n      ...CatalogAddToList_catalog @skip(if: $withCatalogDetails)\n      ...YourCatalogsScreen_catalog @include(if: $withCatalogDetails)\n    }\n    catalogsByUser(userId: $userId, pagingOptions: $pagingOptions, type: $type) {\n      __typename\n      catalogs {\n        ...CatalogAddToList_catalog @skip(if: $withCatalogDetails)\n        ...YourCatalogsScreen_catalog @include(if: $withCatalogDetails)\n      }\n\n      paging {\n        __typename\n        nextPageCursor {\n          id\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return s=function(){return e},e}var d=50,u=20,m=20,g=10,f=function(e){var t=e.limit,n=e.withCatalogDetails,a=void 0!==n&&n;return{userId:e.userId,pagingOptions:{limit:t},type:l.HQ.LISTS,withCatalogDetails:a}},p=(0,r.Ps)(s(),i.E,c.G)},63508:(e,t,n)=>{"use strict";n.d(t,{a:()=>E});var a=n(63038),o=n.n(a),r=n(67294),i=n(19416),l=n(90471),c=n(54758),s=n(13791),d=n(77355),u=n(31708),m=n(93310),g=n(61609),f=n(52069),p=n(87691),v=n(97217),h=n(78285),I=n(43487),C=n(50458);function E(e){var t=e.isVisible,n=e.hide,a=e.target,E=e.kind,b=e.viewer,y=r.useState(""),x=o()(y,2),w=x[0],k=x[1],O=r.useState(!1),_=o()(O,2),S=_[0],P=_[1],j=r.useState(""),T=o()(j,2),z=T[0],L=T[1],R=r.useState(!1),B=o()(R,2),D=B[0],A=B[1],F=(0,I.v9)((function(e){return e.config.authDomain})),V=(0,l.Ax)(b.id),M=V.createCatalog,N=V.loading,$=V.data,W=V.error,U=(0,c.T2)(),H=(0,h.w)();r.useEffect((function(){if("Catalog"===(null==$?void 0:$.createCatalog.__typename))if(E&&a){var e=$.createCatalog,t=e.id,n=e.version;U({userId:b.id,catalogId:t,version:n,kind:E,itemId:a.id},E===v.ej.BOOK_EDITION?{bookId:a.book.id}:void 0),Y()}else window.location.assign((0,C.ykG)($.createCatalog,F))}),[null==$?void 0:$.createCatalog,E,null==a?void 0:a.id,U,b.id]),r.useEffect((function(){W&&H({toastStyle:"RETRYABLE_ERROR",duration:4e3})}),[W,H]);var G=r.useCallback((function(e){k(e.target.value)}),[k]),K=r.useCallback((function(e){L(e.target.value)}),[L]),Y=r.useCallback((function(){k(""),L(""),P(!1),A(!1),n()}),[n]),Q=r.useCallback((function(){var e=w.trim();e.length>0&&M({attributes:{title:e,description:z.trim(),type:v.HQ.LISTS,visibility:D?v.n2.PRIVATE:v.n2.PUBLIC}})}),[w,z,D,M]);return r.createElement(s.v,{isVisible:t,hide:Y,confirmText:r.createElement(i.I,{loading:N,text:"Create"}),isDestructiveAction:!1,onConfirm:Q,disableConfirm:!w.trim()||N,hideOnConfirm:!1},r.createElement(d.x,{height:"400px"},r.createElement(d.x,{paddingBottom:"60px"},r.createElement(f.Dx,{scale:"L"},"Create new list")),r.createElement(d.x,{textAlign:"left",width:"400px",sm:{width:"100%"}},r.createElement(d.x,{paddingBottom:"20px"},r.createElement(u.n,{value:w,onChange:G,placeholder:"Give it a name"})),r.createElement(d.x,{paddingBottom:"20px"},S?r.createElement(d.x,{maxHeight:"170px",overflow:"hidden"},r.createElement(u.n,{value:z,onChange:K,placeholder:"Description",isMultiline:!0,autoFocus:!0})):r.createElement(m.r,{onClick:function(){return P(!0)}},r.createElement(p.F,{scale:"L",color:"ACCENT"},"Add a description"))),r.createElement(d.x,null,r.createElement(g.X,{checked:D,onChange:function(){return A(!D)},textScale:"L"},"Make it private")))))}},1109:(e,t,n)=>{"use strict";n.d(t,{KB:()=>h,fg:()=>I,Fd:()=>C,SZ:()=>E,nf:()=>b,BR:()=>y,hz:()=>x,gs:()=>w});var a=n(28655),o=n.n(a),r=n(71439),i=n(23450),l=n.n(i),c=n(67294),s=n(45365),d=n(25550),u=n(32317),m=n(97217),g=n(46696);function f(){var e=o()(["\n  fragment CatalogVotersDialog_catalogClapperConnection on CatalogClapperConnection {\n    clappers {\n      __typename\n      user {\n        __typename\n        id\n        ...Voter_user\n        ...UserFollowButton_user\n      }\n      clapCount\n    }\n    paging {\n      nextPageCursor {\n        id\n      }\n    }\n  }\n  ","\n  ","\n"]);return f=function(){return e},e}function p(){var e=o()(["\n  fragment formatItemsCount_catalog on Catalog {\n    postItemsCount\n    bookEditionItemsCount\n  }\n"]);return p=function(){return e},e}function v(){var e=o()(["\n  fragment getCatalogMiroURLForMetadata_catalog on Catalog {\n    thumbnailImage\n  }\n"]);return v=function(){return e},e}var h=function(){var e=(0,d.r)().viewerId;return(0,c.useCallback)((function(t){return e===t}),[e])},I=function(e){return h()(e)},C=function(e){return(0,g.W6)({miroId:e.thumbnailImage})},E=function(e,t){var n=e.bookEditionItemsCount,a=e.postItemsCount,o=a>0?"".concat(e.postItemsCount," ").concat(l()("story",a)):"",r=n>0&&t?"".concat(e.bookEditionItemsCount," ").concat(l()("book",n)):"";return o&&r?"".concat(o,", ").concat(r):o||r},b=(0,r.Ps)(v()),y=(0,r.Ps)(p()),x=(0,r.Ps)(f(),s.J,u.sj),w=function(e){return"This ".concat(e===m.ej.BOOK_EDITION?"book":"story"," is no longer available")}},12476:(e,t,n)=>{"use strict";n.d(t,{Rx:()=>C,p9:()=>y,uA:()=>b,Wt:()=>E,S_:()=>I,UV:()=>v});var a=n(63038),o=n.n(a),r=n(319),i=n.n(r),l=n(59713),c=n.n(l),s=n(71439),d=n(44922),u=n(97217),m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"updateCatalogVersionInCache_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"version"}}]}}]},g={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"newCatalogItemV2_catalogItemV2"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CatalogItemV2"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"catalogItemId"}}]}}]};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){e.writeFragment({id:"Catalog:".concat(t),fragment:m,data:{version:n}})}function h(e,t){var n,a=(n={},c()(n,u.ej.BOOK_EDITION,"bookEditionItemsCount"),c()(n,u.ej.POST,"postItemsCount"),n);if(a[e])return c()({},a[e],(function(e){return e+t}))}function I(e,t,n,a){e.modify({id:"Catalog:".concat(t),fields:p(p({},h(a,-1)),{},{itemsConnection:function(e){if(null==e||!e.items)return e;var t=e.items.filter((function(e){return!n.some((function(t){return n={catalogItemId:t},e.__ref==="CatalogItemV2:".concat(JSON.stringify(n));var n}))}));return p(p({},e),{},{items:t})}})})}function C(e,t,n,a){var o=n.map((function(t){return e.writeFragment({data:{__typename:"CatalogItemV2",catalogItemId:t},fragment:g})})).filter((function(e){return!!e}));o.length>0&&e.modify({id:e.identify({__typename:"Catalog",id:t}),fields:p(p({},h(a,o.length)),{},{itemsConnection:function(e){var t=(null==e?void 0:e.items)||[];return p(p({},e),{},{items:[].concat(i()(o),i()(t))})}})})}function E(e,t){e.modify({id:e.identify((0,s.kQ)("ROOT_QUERY")),fields:{catalogsByUser:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,a=n.DELETE,r={},i=(0,d.b)({userId:t}),l=0,c=Object.entries(e);l<c.length;l++){var s=o()(c[l],2),u=s[0],m=s[1];r[u]=u.startsWith(i)?a:m}return r}}})}function b(e,t){e.modify({id:e.identify({__typename:"Catalog",id:t}),fields:{itemsConnection:function(e,t){return t.DELETE}}})}function y(e,t,n,a){e.modify({id:e.identify((0,s.kQ)("ROOT_QUERY")),fields:{catalogsByUser:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,l=r.readField,c=r.DELETE,s={},u=(0,d.b)({userId:t,type:n}),m=0,g=Object.entries(e);m<g.length;m++){var f=o()(g[m],2),v=f[0],h=f[1];if(v.startsWith(u)){var I=(null==h?void 0:h.catalogs)||[],C=i()(I),E=C.findIndex((function(e){return l("id",e)===a}));if(-1===E)s[v]=c;else{var b=C.splice(E,1),y=o()(b,1),x=y[0];C.unshift(x),s[v]=p(p({},h),{},{catalogs:C})}}else s[v]=h}return s}}})}},54758:(e,t,n)=>{"use strict";n.d(t,{PH:()=>w,xt:()=>k,T2:()=>P,qY:()=>j,jN:()=>T,oj:()=>L});var a=n(59713),o=n.n(a),r=n(63038),i=n.n(r),l=n(28655),c=n.n(l),s=n(50361),d=n.n(s),u=n(71439),m=n(46829),g=n(67294),f=n(12476),p=n(18627),v=n(97217),h=n(91299),I=n(11462);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(){var e=c()(["\n  fragment editCatalogItemsMutation_postViewerEdge on PostViewerEdge {\n    id\n    catalogsConnection {\n      catalogsContainingThis(type: LISTS) {\n        catalogId\n        version\n        catalogItemIds\n      }\n      predefinedContainingThis {\n        catalogId\n        predefined\n        version\n        catalogItemIds\n      }\n    }\n  }\n"]);return b=function(){return e},e}function y(){var e=c()(["\n  fragment editCatalogItemsMutation_bookEditionViewerEdge on BookEditionViewerEdge {\n    id\n    catalogsConnection {\n      catalogsContainingThis(type: LISTS) {\n        catalogId\n        version\n        catalogItemIds\n      }\n      predefinedContainingThis {\n        catalogId\n        predefined\n        version\n        catalogItemIds\n      }\n    }\n  }\n"]);return y=function(){return e},e}function x(){var e=c()(["\n  mutation EditCatalogItems(\n    $catalogId: String!\n    $version: String!\n    $operations: [CatalogItemMutateOperationInput!]!\n  ) {\n    editCatalogItems(catalogId: $catalogId, version: $version, operations: $operations) {\n      __typename\n      ... on EditCatalogItemsSuccess {\n        version\n        operations {\n          __typename\n          preprend {\n            __typename\n            catalogItemId\n          }\n          append {\n            __typename\n            catalogItemId\n          }\n          move\n        }\n      }\n    }\n  }\n"]);return x=function(){return e},e}var w="temp-cat-item-id",k="temp-cat-version",O=(0,u.Ps)(x()),_=(0,u.Ps)(y()),S=(0,u.Ps)(b());function P(){var e=(0,p.Av)(),t=(0,g.useRef)(),n=(0,g.useRef)(),a=(0,g.useRef)((function(a){var o=t.current,r=n.current;o&&"EditCatalogItemsSuccess"===a.editCatalogItems.__typename&&(o.kind===v.ej.POST?e.event("post.addToList",{listId:o.catalogId,postId:o.itemId}):r&&o.kind===v.ej.BOOK_EDITION&&e.event("book.addToList",{listId:o.catalogId,editionId:o.itemId,bookId:r.bookId}))})).current,o=(0,m.useMutation)(O,{onCompleted:a}),r=i()(o,1)[0];return(0,g.useCallback)((function(e,a){t.current=e,n.current=a,r({variables:{catalogId:e.catalogId,version:e.version,operations:[{preprend:{type:e.kind,id:e.itemId}}]},update:function(t,n){z({viewerId:e.userId,cache:t,result:n,catalogId:e.catalogId,itemId:e.itemId,kind:e.kind,operation:"preprend",predefined:e.predefined}),(0,f.p9)(t,e.userId,v.HQ.LISTS,e.catalogId)}})}),[r])}function j(e,t,n,a,o,r,i){var l=(0,p.Av)();return(0,m.useMutation)(O,{variables:{catalogId:t,version:n,operations:[{preprend:{type:o,id:a}}]},update:function(n,r){z({viewerId:e,cache:n,result:r,catalogId:t,itemId:a,kind:o,operation:"preprend",predefined:i}),i||(0,f.p9)(n,e,v.HQ.LISTS,t),(0,f.Rx)(n,t,[a],o)},optimisticResponse:{editCatalogItems:{__typename:"EditCatalogItemsSuccess",operations:[{__typename:"EditCatalogItemMutationOperationResponse",preprend:{__typename:"CatalogItemV2",catalogItemId:w},append:null,move:null}],version:k}},onCompleted:function(e){"EditCatalogItemsSuccess"===e.editCatalogItems.__typename&&(o===v.ej.POST?l.event("post.addToList",{listId:t,postId:a}):r&&o===v.ej.BOOK_EDITION&&l.event("book.addToList",{listId:t,bookId:r.bookId,editionId:a}))}})}var T=function(e,t,n,a,o,r,i,l,c){var s=(0,p.Av)();return(0,m.useMutation)(O,{variables:{catalogId:t,version:n,operations:r.map((function(e){return{delete:{itemId:e}}}))},update:function(n,i){z({viewerId:e,cache:n,result:i,catalogId:t,itemId:a,kind:o,operation:"delete",predefined:l,deletedCatalogItemIds:r}),(0,f.S_)(n,t,r,o),l||(0,f.p9)(n,e,v.HQ.LISTS,t)},optimisticResponse:{editCatalogItems:{__typename:"EditCatalogItemsSuccess",operations:r.map((function(e){return{__typename:"EditCatalogItemMutationOperationResponse",append:null,preprend:null,move:null}})),version:k}},onCompleted:function(e){"EditCatalogItemsSuccess"===e.editCatalogItems.__typename&&(c&&c(),o===v.ej.POST?s.event("post.removeFromList",{listId:t,postId:a}):i&&o===v.ej.BOOK_EDITION&&s.event("book.removeFromList",{listId:t,editionId:a,bookId:i.bookId}))}})};function z(e){var t,n=e.cache,a=e.result,r=e.catalogId,i=e.viewerId,l=e.itemId,c=e.kind,s=e.operation,u=e.predefined,m=e.deletedCatalogItemIds,g=null===(t=a.data)||void 0===t?void 0:t.editCatalogItems;if("EditCatalogItemsSuccess"===(null==g?void 0:g.__typename)){var p,C,b;if((0,f.UV)(n,r,g.version),c===v.ej.BOOK_EDITION)p=(0,h.j)(l,i),C="BookEditionViewerEdge",b=_;else{if(c!==v.ej.POST)return;p=(0,I.Q)(l,i),C="PostViewerEdge",b=S}var y="".concat(C,":").concat(p),x=n.readFragment({id:y,fragment:b});if(null!=x&&x.catalogsConnection){var w=g.operations,k=g.version,O=w[0];if(!O||"move"===s)return;var P=d()(u?x.catalogsConnection.predefinedContainingThis:x.catalogsConnection.catalogsContainingThis),j=P.findIndex((function(e){return u?e.predefined===u:e.catalogId===r}));if("append"===s||"preprend"===s){var T=O[s];if(-1!==j)P[j].catalogItemIds.push(T.catalogItemId);else{var z={catalogId:r,version:k,catalogItemIds:[T.catalogItemId]};u&&(z.predefined=u),P.push(z)}}else if("delete"===s&&-1!==j&&m){var L=P[j].catalogItemIds;P[j].catalogItemIds=L.filter((function(e){return!m.includes(e)})),0===P[j].catalogItemIds.length&&P.splice(j,1)}n.writeFragment({id:y,fragment:b,data:E(E({},x),{},{catalogsConnection:E(E({},null==x?void 0:x.catalogsConnection),{},o()({},u?"predefinedContainingThis":"catalogsContainingThis",P))})})}}}function L(e,t,n,a){return(0,m.useMutation)(O,{variables:{catalogId:e,version:t,operations:n},update:function(t){(0,f.uA)(t,e)},onCompleted:a})}},90471:(e,t,n)=>{"use strict";n.d(t,{Ax:()=>_,ok:()=>S,h6:()=>j,o:()=>T,p5:()=>L,es:()=>B});var a=n(59713),o=n.n(a),r=n(63038),i=n.n(r),l=n(28655),c=n.n(l),s=n(71439),d=n(46829),u=n(43150),m=n(1109),g=n(12476),f=n(18627),p=n(78285),v=n(92305),h=n(68216);function I(){var e=c()(["\n  mutation FlagCatalog($catalogId: String!) {\n    flagCatalog(catalogId: $catalogId)\n  }\n"]);return I=function(){return e},e}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(){var e=c()(["\n  mutation ClapCatalog(\n    $catalogId: String!\n    $numClaps: Int!\n    $clappersPagingOptions: CatalogPagingOptionsInput!\n  ) {\n    clapCatalog(catalogId: $catalogId, numClaps: $numClaps) {\n      __typename\n      ... on Catalog {\n        id\n        clapCount\n        clappersCount\n        viewerEdge {\n          __typename\n          id\n          clapCount\n          clappers(pagingOptions: $clappersPagingOptions) {\n            ...CatalogVotersDialog_catalogClapperConnection\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return b=function(){return e},e}function y(){var e=c()(["\n  mutation EditCatalogItemAnnotation(\n    $catalogId: String!\n    $catalogItemId: String!\n    $annotation: CatalogItemAnnotationInput\n  ) {\n    editCatalogItemAnnotation(\n      catalogId: $catalogId\n      catalogItemId: $catalogItemId\n      annotation: $annotation\n    ) {\n      __typename\n      ... on CatalogItemV2 {\n        catalogId\n        catalogItemId\n        userAnnotation {\n          annotation\n        }\n        entity {\n          __typename\n          ... on Post {\n            id\n          }\n          ... on BookEdition {\n            id\n          }\n        }\n      }\n    }\n  }\n"]);return y=function(){return e},e}function x(){var e=c()(["\n  mutation DeleteCatalog($catalogId: String!) {\n    deleteCatalog(catalogId: $catalogId) {\n      __typename\n      ... on MutationSuccess {\n        success\n      }\n    }\n  }\n"]);return x=function(){return e},e}function w(){var e=c()(["\n  mutation UpdateCatalog($catalogId: String!, $attributes: UpdateCatalogInput!) {\n    updateCatalog(catalogId: $catalogId, attributes: $attributes) {\n      __typename\n      ... on Catalog {\n        id\n        name\n        visibility\n        description\n      }\n    }\n  }\n"]);return w=function(){return e},e}function k(){var e=c()(["\n  mutation CreateCatalog($attributes: CreateCatalogInput!) {\n    createCatalog(attributes: $attributes) {\n      __typename\n      ... on Catalog {\n        id\n        name\n        visibility\n        version\n        creator {\n          id\n        }\n        ...catalogUrl_catalog\n      }\n    }\n  }\n  ","\n"]);return k=function(){return e},e}var O=(0,s.Ps)(k(),h.Ui);function _(e){var t=(0,f.Av)(),n=(0,d.useMutation)(O,{update:function(t){(0,g.Wt)(t,e)},onCompleted:function(e){var n=e.createCatalog;"Catalog"===n.__typename&&t.event("list.new",{listId:n.id,listName:n.name,userId:n.creator.id,listPrivacyLevel:v.eF[n.visibility]})}}),a=i()(n,2),o=a[0],r=a[1];return{createCatalog:function(e){return o({variables:e})},loading:r.loading,data:r.data,error:r.error}}var S=(0,s.Ps)(w()),P=(0,s.Ps)(x());function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onCompleted;return(0,d.useMutation)(P,{onCompleted:n,update:function(t){(0,g.Wt)(t,e)}})}var T=(0,s.Ps)(y()),z=(0,s.Ps)(b(),m.hz);function L(){var e=(0,d.useMutation)(z),t=i()(e,2),n=t[0],a=t[1];return{clapCatalog:function(e){return n({variables:E(E({},e),{},{clappersPagingOptions:{limit:u.u7}})})},loading:a.loading,data:a.data,error:a.error}}var R=(0,s.Ps)(I());function B(){var e=(0,p.w)(),t=(0,d.useMutation)(R,{onCompleted:function(){e({message:"Successfully reported list."})},onError:function(){e({toastStyle:"RETRYABLE_ERROR",duration:4e3})}}),n=i()(t,1)[0];return{flagCatalog:function(e){return n({variables:e})}}}},31708:(e,t,n)=>{"use strict";n.d(t,{n:()=>A});var a=n(67154),o=n.n(a),r=n(63038),i=n.n(r),l=n(6479),c=n.n(l),s=n(67294),d=n(77355),u=n(87691),m=n(14199),g=n(14646);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var p=s.createElement("path",{fill:"#CC5454",d:"M13.3 13.9l.14-7.08h-1.78l.15 7.08h1.48zm-.74 1.43c-.68 0-1.13.44-1.13 1.12 0 .67.45 1.12 1.13 1.12.68 0 1.13-.45 1.13-1.12 0-.68-.44-1.12-1.12-1.12"}),v=s.createElement("path",{fill:"#CC5454",d:"M12.5 21a8.5 8.5 0 1 0 0-17 8.5 8.5 0 0 0 0 17zm0 1a9.5 9.5 0 1 1 0-19 9.5 9.5 0 0 1 0 19z"});const h=function(e){return s.createElement("svg",f({width:25,height:25,viewBox:"0 0 25 25"},e),p,v)};var I=function(e){return{padding:"4px 0",fontFamily:"inherit",fontSize:"inherit",fontWeight:"inherit",lineHeight:"inherit",textAlign:"inherit",borderWidth:0,outline:0,"::placeholder":{color:e.baseColor.text.lighter,opacity:.5}}},C={border:0,flex:1,overflow:"hidden",resize:"none",width:"100%"},E={color:"inherit",background:"inherit",fontStyle:"inherit"},b=function(e){var t=[I,C];return e?[].concat(t,[E]):t},y=function(e){if(e.current){e.current.rows=1;var t=e.current.scrollHeight/parseInt(getComputedStyle(e.current).lineHeight);e.current.rows=t}},x=s.forwardRef((function(e,t){var n=e.value,a=e.ariaLabel,o=e.autoFocus,r=e.onChange,i=e.placeholder,l=e.inheritCustomStyleSheet,c=function(e,t){var n=s.useRef(null);return s.useEffect((function(){[e,t].forEach((function(e){e&&("function"==typeof e?e(n.current):e.current=n.current)}))}),[e,t]),n}(s.useRef(null),t),d=s.useCallback((function(e){r&&r(e),y(c)}),[r,c]);s.useEffect((function(){return y(c)}),[n]);var u=(0,g.I)();return s.createElement("textarea",{"aria-label":a,autoFocus:o,className:u(b(l)),placeholder:i,onChange:d,ref:c,rows:1,value:n})})),w=function(e){var t=e.count,n=void 0===t?0:t,a=e.limit,o=e.scale,r=(0,g.I)();return s.createElement(u.F,{scale:o||"S"},s.createElement("span",{className:r((function(e){return{color:n>a?e.errorColor:e.baseColor.text.dark}}))},n),"/",a)},k={flex:"1"},O=function(e){var t=e.value,n=e.ariaLabel,a=e.autoFocus,o=e.isPassword,r=e.onChange,i=e.placeholder,l=e.name,c=(0,g.I)();return s.createElement("input",{"aria-label":n,className:c([[I,k]]),type:o?"password":"text",placeholder:i,value:t,name:l,onChange:r,autoFocus:a})},_=n(59713),S=n.n(_);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=function(e){return{borderWidth:"0px 0px 1px 0px",background:"linear-gradient(to right, ".concat(e.baseColor.text.normal,", 90%, white 100%)"),"-webkit-background-clip":"text","-webkit-text-fill-color":"transparent",color:"transparent",whiteSpace:"nowrap",overflow:"hidden",width:"100%"}},z=function(){return j(j({},T),{},{background:"white"})},L=function(e){var t=e.value,n=e.isAreaField,a=(0,g.I)(),o=n?z:T;return s.createElement("p",{key:t,className:a([I,o])},t)},R=function(e){return{fontWeight:e.newFonts.detail.boldWeight}},B=function(e){var t=e.hasError,n=e.isFocused,a=e.theme;return t&&n||t?a.errorColor:n?a.baseColor.border.dark:a.baseColor.border.light},D=function(e){var t=e.hasError,n=e.isFocused,a=e.omitBorder;return function(e){return{display:"flex",width:"100%",borderStyle:"solid",borderWidth:a&&!t?0:"0px 0px 1px 0px",borderColor:B({hasError:t,isFocused:n,theme:e})}}},A=function(e){var t,n=e.characterCountLimit,a=e.characterCountScale,r=e.description,l=e.errorMessage,f=e.isEditable,p=void 0===f||f,v=e.isMultiline,I=void 0!==v&&v,C=e.label,E=e.omitBorder,b=e.onFocus,y=e.isPassword,k=void 0!==y&&y,_=e.scale,S=void 0===_?"M":_,P=e.hideErrorIcon,j=void 0!==P&&P,T=e.bold,z=void 0!==T&&T,B=e.inheritCustomStyleSheet,A=void 0!==B&&B,F=e.forwardedRef,V=c()(e,["characterCountLimit","characterCountScale","description","errorMessage","isEditable","isMultiline","label","omitBorder","onFocus","isPassword","scale","hideErrorIcon","bold","inheritCustomStyleSheet","forwardedRef"]),M=V.autoFocus,N=V.onBlur,$=!!l,W=(0,g.I)(),U=s.useState(!!M),H=i()(U,2),G=H[0],K=H[1],Y=s.useCallback((function(e){b&&b(e),K(!0)}),[b,K]),Q=s.useCallback((function(e){N&&N(e),K(!1)}),[N,K]),q=(0,m.n)({name:"detail",scale:"S",color:"ERROR"}),X=(0,m.n)({name:"detail",scale:S,color:"DARKER"});return s.createElement("span",{className:W(z?[X,R]:X)},s.createElement(d.x,{display:"flex",flexDirection:"column",width:"100%"},C&&s.createElement("label",{className:W({marginBottom:"10px"})},C),s.createElement("div",{onFocus:Y,onBlur:Q,className:W(D({hasError:$,isFocused:G,omitBorder:E}))},p?I?s.createElement(x,o()({},V,{inheritCustomStyleSheet:A,ref:F})):s.createElement(O,o()({},V,{isPassword:k})):s.createElement(L,o()({},V,{isAreaField:I})),$&&!j&&s.createElement("span",{style:{paddingLeft:"10px"}},s.createElement(h,null))),s.createElement(d.x,{marginTop:"4px",display:"flex",justifyContent:"space-between"},$?s.createElement("h4",{className:W([q,{width:"100%",textAlign:"inherit"}])},l):s.createElement(u.F,{scale:"S"},r),!!n&&s.createElement(w,{count:null===(t=V.value)||void 0===t?void 0:t.length,limit:n,scale:a}))))}},95408:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Y,G:()=>Q});var a=n(28655),o=n.n(a),r=n(71439),i=n(67294),l=n(70405),c=n(57682),s=n(16309),d=n(35225),u=n(63038),m=n.n(u),g=n(46829),f=n(81978),p=n(77355),v=n(47230),h=n(9935),I=n(21755),C=n(20113),E=n(14646),b=n(97217);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var x=i.createElement("circle",{opacity:.15,cx:141.5,cy:87.5,r:141.5,fill:"#E8F3E8"}),w=i.createElement("circle",{cx:141.5,cy:87.5,r:29.5,fill:"#fff"}),k=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M148.71 74.32a.66.66 0 0 1 1.31.07v3.28h3.28a.66.66 0 1 1 0 1.3h-3.28v3.29a.66.66 0 1 1-1.3 0v-3.28h-3.29a.66.66 0 0 1 0-1.31h3.28v-3.28-.07zm-13.77 4c-.72 0-1.3.59-1.3 1.31v17.68l7.46-5.74a.66.66 0 0 1 .8 0l7.47 5.74V87.5a.66.66 0 1 1 1.3 0v11.14a.66.66 0 0 1-1.05.52l-8.12-6.24-8.12 6.24a.65.65 0 0 1-1.06-.52v-19a2.62 2.62 0 0 1 2.62-2.63h5.25a.66.66 0 0 1 0 1.31h-5.25z",fill:"#0F730C"});const O=function(e){return i.createElement("svg",y({width:283,height:174,viewBox:"0 0 283 174",fill:"none"},e),x,w,k)};function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var S=i.createElement("circle",{opacity:.15,cx:67.5,cy:67.5,r:67.5,fill:"#E8F3E8"}),P=i.createElement("circle",{cx:68,cy:68,r:20,fill:"#fff"}),j=i.createElement("mask",{id:"bookmark-cta-mobile_svg__a",fill:"#fff"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M73.05 58.67a.46.46 0 0 1 .93 0V61h2.32a.46.46 0 1 1 0 .93h-2.32v2.32a.46.46 0 0 1-.93 0v-2.32h-2.32a.46.46 0 1 1 0-.93h2.32v-2.32zm-9.74 2.78a.93.93 0 0 0-.93.93V74.9l5.29-4.06c.16-.13.4-.13.56 0l5.29 4.06v-6.94a.46.46 0 0 1 .92 0v7.89a.46.46 0 0 1-.74.36l-5.75-4.42-5.75 4.42a.46.46 0 0 1-.75-.36V62.38c0-1.02.84-1.85 1.86-1.85h3.71a.46.46 0 1 1 0 .92h-3.71z"})),T=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M73.05 58.67a.46.46 0 0 1 .93 0V61h2.32a.46.46 0 1 1 0 .93h-2.32v2.32a.46.46 0 0 1-.93 0v-2.32h-2.32a.46.46 0 1 1 0-.93h2.32v-2.32zm-9.74 2.78a.93.93 0 0 0-.93.93V74.9l5.29-4.06c.16-.13.4-.13.56 0l5.29 4.06v-6.94a.46.46 0 0 1 .92 0v7.89a.46.46 0 0 1-.74.36l-5.75-4.42-5.75 4.42a.46.46 0 0 1-.75-.36V62.38c0-1.02.84-1.85 1.86-1.85h3.71a.46.46 0 1 1 0 .92h-3.71z",fill:"#0F730C"}),z=i.createElement("path",{d:"M73.98 60.99h-1v1h1v-1zm0 .93v-1h-1v1h1zm-.93 0h1v-1h-1v1zm0-.93v1h1v-1h-1zm-10.67 13.9h-1v2.04L63 75.69l-.6-.8zm5.29-4.06l.6.8-.6-.8zm.56 0l-.6.8.6-.8zm5.29 4.06l-.61.8 1.6 1.24v-2.04h-1zm.67 1.36l-.45-.9.45.9zm-.5-.05l.62-.79-.61.8zm-5.74-4.42l.6-.79-.6-.47-.61.47.61.8zM62.2 76.2l-.6-.79.6.8zm-.49.05l.45-.9-.45.9zm11.8-19.04c-.8 0-1.46.65-1.46 1.46h2c0 .3-.24.54-.53.54v-2zm1.47 1.46c0-.8-.65-1.46-1.46-1.46v2a.54.54 0 0 1-.54-.54h2zm0 2.32v-2.32h-2V61h2zm-1 1h2.32v-2h-2.32v2zm2.32 0a.54.54 0 0 1-.54-.54h2c0-.8-.65-1.46-1.46-1.46v2zm-.54-.54c0-.3.24-.53.54-.53v2c.8 0 1.46-.66 1.46-1.47h-2zm.54-.53h-2.32v2h2.32v-2zm-1.32 3.32v-2.32h-2v2.32h2zm-1.46 1.46c.8 0 1.46-.65 1.46-1.46h-2c0-.3.24-.54.54-.54v2zm-1.47-1.46c0 .8.66 1.46 1.47 1.46v-2c.3 0 .53.24.53.54h-2zm0-2.32v2.32h2v-2.32h-2zm1-1h-2.32v2h2.32v-2zm-2.32 0c.3 0 .54.24.54.53h-2c0 .81.65 1.47 1.46 1.47v-2zm.54.53c0 .3-.24.54-.54.54v-2c-.8 0-1.46.66-1.46 1.46h2zm-.54.54h2.32v-2h-2.32v2zm1.32-3.32V61h2v-2.32h-2zm-8.67 3.71c0 .04-.03.07-.07.07v-2c-1.06 0-1.93.87-1.93 1.93h2zm0 12.51V62.4h-2v12.5h2zm3.68-4.85l-5.29 4.06L63 75.7l5.29-4.07-1.22-1.58zm1.78 0c-.52-.4-1.26-.4-1.78 0l1.22 1.58a.54.54 0 0 1-.66 0l1.22-1.58zm5.29 4.06l-5.29-4.06-1.22 1.58 5.29 4.07 1.22-1.59zm-1.61-6.15v6.94h2v-6.94h-2zm1.46-1.46c-.8 0-1.46.65-1.46 1.46h2c0 .3-.24.54-.54.54v-2zm1.46 1.46c0-.8-.65-1.46-1.46-1.46v2a.54.54 0 0 1-.54-.54h2zm0 7.89v-7.89h-2v7.89h2zm-.81 1.31c.5-.25.81-.76.81-1.31h-2c0-.2.12-.4.3-.48l.89 1.79zM73.09 77c.44.34 1.04.4 1.54.15l-.89-1.8c.19-.08.4-.06.57.06L73.09 77zm-5.75-4.42L73.09 77l1.22-1.59L68.56 71l-1.22 1.59zM62.81 77l5.75-4.42-1.22-1.59-5.75 4.42L62.81 77zm-1.54.15c.5.25 1.1.19 1.54-.15L61.6 75.4a.54.54 0 0 1 .57-.05l-.89 1.79zm-.82-1.31c0 .55.32 1.06.82 1.31l.89-1.8c.18.1.3.28.3.49h-2zm0-13.46v13.46h2V62.38h-2zm2.86-2.85a2.86 2.86 0 0 0-2.86 2.85h2c0-.47.39-.85.86-.85v-2zm3.71 0h-3.71v2h3.71v-2zm1.47 1.46c0-.8-.66-1.46-1.47-1.46v2a.54.54 0 0 1-.53-.54h2zm-1.47 1.46c.81 0 1.47-.65 1.47-1.46h-2c0-.3.24-.54.53-.54v2zm-3.71 0h3.71v-2h-3.71v2z",fill:"#0F730C",mask:"url(#bookmark-cta-mobile_svg__a)"});const L=function(e){return i.createElement("svg",_({width:112,height:112,viewBox:"0 0 112 112",fill:"none"},e),S,P,j,T,z)};var R=n(17583),B=n(87808),D={color:"#ffffff"},A=b.T3.CREATE_CATALOGS_CTA,F=function(e){var t=e.onClick,n=e.viewer,a=!(null==n||!n.dismissableFlags.includes(A)),o=i.useState(!a),r=m()(o,2),l=r[0],c=r[1],s=(0,g.useMutation)(f.a,{variables:{userId:n.id,flag:A}}),d=m()(s,1)[0],u=(0,E.I)(),b=(0,R.s)()||I.j.lg,y=(0,B.x)(),x=m()(y,1)[0],w=i.useMemo((function(){return b===I.j.xs||b===I.j.sm||x>=1080&&x<=1265}),[b,x]),k=i.useCallback((function(){c(!l),d()}),[d,l]);return a||!l?null:i.createElement(p.x,{borderRadius:"4px",marginBottom:"22px",backgroundColor:"ACCENT_NORMAL",display:"flex",justifyContent:"space-between"},i.createElement(p.x,{padding:{xs:"24px",sm:"24px",md:"24px",lg:"32px",xl:"32px"},display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start"},i.createElement(p.x,{marginBottom:"16px"},i.createElement(C.X6,{scale:{xs:"XS",sm:"S",md:"S",lg:"M",xl:"M"},fontWeight:"EDITORIAL"},i.createElement("span",{className:u(D)},"Create a list to easily organize and share stories"))),i.createElement(v.z,{size:w?"SMALL":"REGULAR",buttonStyle:"BRAND",onClick:t},"Start a list")),i.createElement(p.x,{display:"flex",flexDirection:w?"column-reverse":"row",alignItems:w?"flex-end":"flex-start",justifyContent:"space-between"},i.createElement(p.x,null,w?i.createElement(L,null):i.createElement(O,null)),i.createElement(p.x,{padding:{xs:"10px",sm:"18px",md:"18px",lg:"18px",xl:"18px"}},i.createElement(h.P,{onClick:k,isPositionAbsolute:!1,iconFillColor:"#ffffff"}))))},V=n(57799),M=n(63508),N=n(6443),$=n(60015),W=n(66227),U=n(96370),H=n(66411),G=n(50458);function K(){var e=o()(["\n  fragment YourCatalogsScreen_catalog on Catalog {\n    id\n    ...CatalogsListItem_catalog\n  }\n  ","\n"]);return K=function(){return e},e}var Y=function(e){var t=e.catalogs,n=e.fetchMore,a=e.header,o=e.isMediumApp,r=(0,R.s)(),u=(0,N.H)(),m=u.value;if(u.loading||!m)return null;var g=i.createElement(s.R,{items:[{text:"Saved",href:(0,G.be7)()},{text:"Highlights",href:(0,G.S0c)()},{text:"Recently viewed",href:(0,G.hGr)()}]}),f=i.createElement(p.x,{display:"flex",justifyContent:"space-between",paddingBottom:o?void 0:"20px",marginTop:o?void 0:"-20px",xs:{marginTop:"20px"},sm:{marginTop:"20px"}},o?i.createElement(d.V,null,"Your lists"):i.createElement(C.X6,{scale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},tag:"h1",fontWeight:"EDITORIAL"},"Your lists"),i.createElement(p.x,null,i.createElement(W.B,null,(function(e){var t=e.hide,n=e.isVisible,a=e.show;return i.createElement(i.Fragment,null,i.createElement(v.z,{size:"xs"===r?"REGULAR":"LARGE",buttonStyle:"STRONG",onClick:a},"New list"),i.createElement(M.a,{isVisible:n,hide:t,viewer:m}))}))));return i.createElement(H.cW,{source:{name:"my_lists"}},i.createElement(l.q,null,i.createElement("title",null,"Your lists"),i.createElement("meta",{name:"title",content:"Your lists"})),i.createElement(p.x,{padding:"0 0 50px",backgroundColor:"BACKGROUND"},a,i.createElement(U.P,{size:"inset"},o?i.createElement(c.mr,{heading:f,navbar:g}):i.createElement(p.x,null,i.createElement(i.Fragment,null,f),i.createElement(i.Fragment,null,g)),i.createElement(p.x,{marginTop:"32px",xs:{display:"flex",flexDirection:"column",alignItems:"center"}},i.createElement(W.B,null,(function(e){var t=e.hide,n=e.isVisible,a=e.show;return i.createElement(i.Fragment,null,i.createElement(F,{onClick:a,viewer:m}),i.createElement(M.a,{isVisible:n,hide:t,viewer:m}))})),i.createElement($.P,{fetchMore:n},t.map((function(e,t){return i.createElement(H.cW,{key:e.id,extendSource:!0,source:{index:t,catalogId:e.id}},i.createElement(V.l,{catalog:e}))})))))))},Q=(0,r.Ps)(K(),V.c)},91299:(e,t,n)=>{"use strict";function a(e,t){return"bookEditionId:".concat(e,"-viewerId:").concat(t)}n.d(t,{j:()=>a})},87808:(e,t,n)=>{"use strict";n.d(t,{x:()=>l});var a=n(63038),o=n.n(a),r=n(67294),i=n(34135);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r.useState)(0),n=o()(t,2),a=n[0],l=n[1],c=(0,r.useState)(0),s=o()(c,2),d=s[0],u=s[1],m=e.throttled?"resize_throttled":"resize",g=(0,r.useCallback)((function(){"undefined"!=typeof window&&(l(window.innerWidth),u(window.innerHeight))}),[]);return(0,r.useEffect)((function(){return g(),i.V6.on(m,g),function(){return i.V6.off(m,g)}}),[m,g]),[a,d]}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/47464.370de892.chunk.js.map