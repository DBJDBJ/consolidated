(self.webpackChunklite=self.webpackChunklite||[]).push([[61483],{85282:(e,n,i)=>{"use strict";i.d(n,{Z:()=>o});var t=i(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var l=t.createElement("path",{d:"M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zM6.77 10.46a.62.62 0 1 1-1.23 0V5.54a.62.62 0 0 1 1.23 0v4.92zm3.7 0a.62.62 0 1 1-1.24 0V5.54a.62.62 0 0 1 1.23 0v4.92z",fill:"#292929"});const o=function(e){return t.createElement("svg",a({width:16,height:16,viewBox:"0 0 16 16",fill:"none"},e),l)}},78319:(e,n,i)=>{"use strict";i.d(n,{Z:()=>o});var t=i(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var l=t.createElement("path",{d:"M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm2.8 8.51l-3.69 2.46a.62.62 0 0 1-.96-.5V5.53a.62.62 0 0 1 .96-.51l3.7 2.46a.62.62 0 0 1 0 1.02z",fill:"#292929"});const o=function(e){return t.createElement("svg",a({width:16,height:16,viewBox:"0 0 16 16",fill:"none"},e),l)}},41190:(e,n,i)=>{"use strict";i.d(n,{C:()=>p,F:()=>k});var t=i(319),a=i.n(t),l=i(22412),o=i(62549),d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBylineHeaderInfos_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"FragmentSpread",name:{kind:"Name",value:"DraftStatus_post"}}]}}].concat(a()(o.t.definitions))},r=i(93403),s=i(15855),m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBylineHeaderActionsButtons_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"BookmarkButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SharePostButtons_post"}}]}}].concat(a()(r.z.definitions),a()(s.E.definitions))},c=i(56785),u=i(51277),k={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBylineHeader_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CreatorHeader_user"}}]}}].concat(a()(l.p.definitions))},p={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBylineHeader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBylineHeaderInfos_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBylineHeaderActionsButtons_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToEntityPreview_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButtonWithNegativeSignal_post"}}]}}].concat(a()(d.definitions),a()(m.definitions),a()(c.V.definitions),a()(u.v.definitions))}},96857:(e,n,i)=>{"use strict";i.d(n,{O:()=>Y});var t=i(67294),a=i(46510),l=i(91743),o=i(54701),d=i(1444),r=i(75399),s=i(77355),m=i(66411),c=function(e){var n=e.post,i=e.source;return t.createElement(t.Fragment,null,t.createElement(r.U,{post:n,source:i,useSubtleShareButtons:!0,spacing:"4px"}),t.createElement(s.x,{margin:"0 4px 0 28px",display:"flex",alignItems:"center"},t.createElement(m.cW,{source:{name:i}},t.createElement(d.o,{post:n,susiEntry:"bookmark_header",buttonStyle:"ICON_SUBTLE"}))))},u=function(e){var n=e.post,i=e.source;return t.createElement(s.x,{paddingTop:"24px",display:{xs:"flex",sm:"flex",md:"none",lg:"none",xl:"none"}},t.createElement(s.x,{marginRight:"16px"},t.createElement(m.cW,{source:{name:i}},t.createElement(d.o,{post:n,susiEntry:"bookmark_header",buttonStyle:"ICON_TEXT"}))),t.createElement(r.U,{post:n,source:i,useSubtleShareButtons:!0,spacing:"12px"}))},k=i(63459),p=i(18704),v=i(34796),S=i(46829),N=i(63038),f=i.n(N),g=i(68356),V=i.n(g),F=i(99323),y=i(10374),h=i(6443),E=i(96370),b=i(47230),x=i(87691),P=i(18627),C=i(14646),_=i(50742),w=i(85282),A=i(78319),T=function(e){return{padding:"0",cursor:"pointer",border:"none",display:"flex",alignItems:"center",":hover > p":{color:e.accentColor.text.dark},":hover > svg > path":{fill:e.accentColor.fill.dark}}},D=function(e){return{marginRight:"3px",marginBottom:"-1px",padding:"1px","> path":{fill:e.accentColor.fill.normal}}},I=V()({loader:function(){return i.e(56391).then(i.bind(i,82249))},modules:["src/components/post/text-to-speech/SpeechifyWidget"],webpack:function(){return[82249]},loading:function(e){var n=e.children;return t.createElement(t.Fragment,null,n)},render:(0,_.n)("SpeechifyWidget")}),R=t.forwardRef((function(e,n){var i=e.postId,a=e.postBodyRef,l=e.isLockedPreviewOnly,o=(0,C.I)(),d=(0,P.Av)(),r=(0,h.H)().value,m=!(null==r||!r.mediumMemberAt),c=(0,F.sK)().expandedPostId,u=(0,y.Ij)().paragraphRefsMappers.paragraphTitlesRefsByStyleMap,k=(0,t.useState)(!0),p=f()(k,2),v=p[0],S=p[1];t.useEffect((function(){return d.event("experiment.eligible",{experimentId:"ec7b685b3f40"}),S(!0)}),[u,c]);var N=!m&&l;return t.createElement(s.x,{display:"inline-flex",alignItems:"center",boxSizing:"border-box"},t.createElement(s.x,{flexGrow:"1"},t.createElement(E.P,{size:"full"},t.createElement("div",{ref:n},N?null:v?t.createElement(b.z,{onClick:function(){if(v){var e=new Audio;e.autoplay=!0,e.src="data:audio/mpeg;base64,SUQzBAAAAAABEVRYWFgAAAAtAAADY29tbWVudABCaWdTb3VuZEJhbmsuY29tIC8gTGFTb25vdGhlcXVlLm9yZwBURU5DAAAAHQAAA1N3aXRjaCBQbHVzIMKpIE5DSCBTb2Z0d2FyZQBUSVQyAAAABgAAAzIyMzUAVFNTRQAAAA8AAANMYXZmNTcuODMuMTAwAAAAAAAAAAAAAAD/80DEAAAAA0gAAAAATEFNRTMuMTAwVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsRbAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQMSkAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",S(!1)}},className:o(T)},t.createElement(A.Z,{className:o(D)}),t.createElement(x.F,{scale:"M",color:"ACCENT"},"Listen")):t.createElement(I,{postId:i,buttonStyle:T,audioIconStyle:D,postBodyRef:a},t.createElement(b.z,{className:o(T)},t.createElement(w.Z,{className:o(D)}),t.createElement(x.F,{scale:"M",color:"ACCENT"},"0:00")))))))})),B=i(73279),M=i(62896),L={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MaybeTextToSpeechQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"detectedLanguage"}},{kind:"Field",name:{kind:"Name",value:"wordCount"}}]}}]}}]},O=function(){return t.createElement(s.x,{display:"inline-block",padding:"0 8px",ariaHidden:"true"},t.createElement(B.O,null))},U=function(e){var n,i,a,l,o=e.postId,d=e.postBodyRef,r=e.isLockedPreviewOnly,s=e.isPublished,m=(0,S.useQuery)(L,{variables:{postId:o}}),c=m.data,u=m.error,k=m.loading,p=navigator.userAgent,v=(0,M.yl)(p);if(!o||k||u||v)return null;var N=null!==(n=null==c||null===(i=c.post)||void 0===i?void 0:i.wordCount)&&void 0!==n?n:0,f=null!==(a=null==c||null===(l=c.post)||void 0===l?void 0:l.detectedLanguage)&&void 0!==a?a:"";return!s||s&&"en"===f&&N>20?t.createElement(t.Fragment,null,t.createElement(O,null),t.createElement(R,{postId:o,postBodyRef:d,isLockedPreviewOnly:r})):null},H=i(25735),z=i(2220),Q=function(){return t.createElement(s.x,{display:"inline-block",padding:"0 8px",ariaHidden:"true"},t.createElement(B.O,null))},W=function(e){var n=e.showStar,i=e.post,a=e.postBodyRef,l=e.isLockedPreviewOnly,o=i.firstPublishedAt,d=i.readingTime,r=(0,H.VB)({name:"enable_speechify_widget",placeholder:!1});return t.createElement(t.Fragment,null,Boolean(o)&&t.createElement(t.Fragment,null,t.createElement(x.F,{scale:"M",playwrightClassName:"pw-published-date"},t.createElement(k.E,{timestamp:o})),t.createElement(Q,null)),t.createElement(p.N,{scale:"M",tag:"div",readingTime:d}),n&&t.createElement(z.y,null),!o&&t.createElement(t.Fragment,null,t.createElement(Q,null),t.createElement(x.F,{color:"DARKER",scale:"M"},t.createElement(v.FV,{post:i}))),r&&t.createElement(t.Fragment,null,t.createElement(U,{postId:i.id,postBodyRef:a,isLockedPreviewOnly:l,isPublished:!!o})))},Y=function(e){var n=e.post,i=e.creator,d=e.postBodyRef,r=e.isLockedPreviewOnly,s=void 0!==r&&r,m=e.showInResponseToEntityPreview,k=void 0!==m&&m,p=e.showStar,v=void 0!==p&&p,S=e.viewerId,N=e.playwrightClassName;if(!i)return null;var f="post_actions_header";return t.createElement(a.c,{creator:i,viewerId:S,playwrightClassName:N,entityInfos:t.createElement(W,{post:n,showStar:v,postBodyRef:d,isLockedPreviewOnly:s}),desktopActionsButtons:t.createElement(c,{post:n,source:f}),mobileActionsButtons:t.createElement(u,{post:n,source:f}),menuActionsButton:t.createElement(l.t,{post:n,iconStyle:"ICON_SUBTLE"}),responseToEntityPreview:k&&t.createElement(o.h,{padding:"24px 0 0",post:n,postPreviewMarginBottom:40})})}},22836:(e,n,i)=>{"use strict";i.d(n,{l:()=>m});var t=i(67294),a=i(68427),l=i(71652),o=i(77355),d=i(96370),r=i(93310),s=i(87691),m=function(e){var n=e.collection,i=n.name,m=(0,a.R)(n);return t.createElement(o.x,{borderBottom:"BASE_LIGHTER"},t.createElement(d.P,{size:"app"},t.createElement(o.x,{display:"flex",alignItems:"center",height:"56px"},t.createElement(o.x,{marginRight:"16px"},t.createElement(r.r,{href:m},t.createElement(l.v,{collection:n,size:32,circular:!0}))),t.createElement(o.x,{marginRight:"3px",flexShrink:"0"},t.createElement(s.F,{scale:"M",color:"LIGHTER",tag:"div"},"Published in")),t.createElement(r.r,{href:m},t.createElement(s.F,{scale:"M",color:"DARKER",clamp:1},i)))))}},22412:(e,n,i)=>{"use strict";i.d(n,{p:()=>m});var t=i(319),a=i.n(t),l=i(68216),o=i(54341),d=i(93961),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AuthorNameTooltip_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserMentionTooltip_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowLink_publisher"}}]}}].concat(a()(o.O.definitions),a()(l.$m.definitions),a()(d.u.definitions))},s=i(27048),m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CreatorHeader_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"AuthorNameTooltip_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}}]}}].concat(a()(l.$m.definitions),a()(r.definitions),a()(s.W.definitions))}},46510:(e,n,i)=>{"use strict";i.d(n,{c:()=>p});var t=i(67294),a=i(84739),l=i(55155),o=i(28695),d=i(77355),r=i(26244),s=i(93310),m=i(87691),c=function(e){var n=e.creator,i=e.viewerId,c=(0,a.B)(n);return t.createElement(m.F,{tag:"div",scale:"L",color:"DARKER",playwrightClassName:"pw-author"},t.createElement(d.x,{display:"flex",flexDirection:"row",marginBottom:"4px"},t.createElement(r.$,{targetDistance:15,mouseLeaveDelay:100,placement:"top",role:"tooltip",popoverRenderFn:function(){return t.createElement(o.K,{user:n})}},t.createElement(s.r,{href:c},n.name)),n.id!==i&&t.createElement(d.x,{display:{xs:"inline-block",sm:"inline-block",md:"inline-block",lg:"inline-block",xl:"none"},paddingLeft:"12px"},t.createElement(l.D,{publisher:n,buttonSize:"COMPACT",susiEntry:"follow_byline"}))))},u=i(17193),k=i(30020),p=function(e){var n=e.creator,i=e.playwrightClassName,l=e.entityInfos,o=e.viewerId,r=e.desktopActionsButtons,m=e.mobileActionsButtons,p=e.menuActionsButton,v=e.responseToEntityPreview,S=(0,a.B)(n);return t.createElement(d.x,{marginTop:{xs:"32px",sm:"32px",md:"32px",lg:"32px",xl:"56px"},marginBottom:{xs:"24px",sm:"24px",md:"24px",lg:"24px",xl:"32px"},tag:"header",playwrightClassName:i},t.createElement(d.x,{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},t.createElement(d.x,{display:"flex"},t.createElement(d.x,{marginRight:"16px"},t.createElement(s.r,{href:S},t.createElement(u.Yt,{scale:"M",user:n,withHalo:!1}))),t.createElement(d.x,null,t.createElement(c,{creator:n,viewerId:o}),t.createElement(d.x,{display:"flex",alignItems:"center",flexWrap:"wrap"},l))),t.createElement(d.x,{display:"flex",alignItems:"center"},t.createElement(d.x,{display:{xs:"none",sm:"none",md:"inline-flex",lg:"inline-flex",xl:"inline-flex"}},r),t.createElement(d.x,{display:"inline-flex",marginLeft:"16px"},t.createElement(k._,{tooltipText:"More",targetDistance:10},p)))),m&&t.createElement(d.x,{paddingTop:"24px",display:{xs:"flex",sm:"flex",md:"none",lg:"none",xl:"none"}},m),v)}},93961:(e,n,i)=>{"use strict";i.d(n,{u:()=>o});var t=i(319),a=i.n(t),l=i(81712),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherFollowLink_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowButton_publisher"}}]}}].concat(a()(l.f.definitions))}},34492:(e,n,i)=>{"use strict";i.d(n,{I:()=>k});var t,a=i(59713),l=i.n(a),o=i(67294);!function(e){e.S="S",e.L="L"}(t||(t={}));var d=i(77355),r=i(9935),s=i(87691),m=i(14646),c=i(97489),u=i(14804),k=function(e){var n=e.children,i=e.scale,a=void 0===i?t.L:i,k=e.alpha,p=void 0===k?.05:k,v=e.verticalMargins,S=void 0===v?{normal:"24px",small:"24px"}:v,N=e.horizontalMargins,f=void 0===N?{normal:"-16px",small:"-12px 0"}:N,g=e.dismissable,V=e.onClick,F=e.maxWidth,y=void 0===F?"740px":F,h=(0,m.I)();return o.createElement("div",{className:h((function(e){return l()({background:(0,u.Uy)(p),borderRadius:"4px",margin:"".concat(S.small," ").concat(f.small),position:"relative"},c.xl(e),{margin:"".concat(S.normal," ").concat(f.normal)})}))},o.createElement(d.x,{display:"flex",justifyContent:"space-between",maxWidth:y,padding:"16px",sm:{padding:"12px"}},o.createElement(s.F,{scale:a,color:"DARKER"},n),g&&V&&o.createElement(r.P,{onClick:V,size:"REGULAR",isPositionAbsolute:!1,compensateInnerPadding:!0,"data-testid":"close-button"})))}},6177:(e,n,i)=>{"use strict";i.d(n,{F:()=>a,b:()=>l});var t=i(319),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"showPromo"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]}}]},l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_user"}}]}}]}}].concat(i.n(t)()(a.definitions))}},1951:(e,n,i)=>{"use strict";i.d(n,{g:()=>o,t:()=>d});var t=i(67294),a=i(9354),l=i(75880),o=function(e){var n=e.creator,i=d(n);return n?i:{value:!1}},d=function(e){var n,i,o,d=(0,l.Pd)(e),r=d.viewerEdge,s=d.loading,m=t.useRef(null),c=(0,a.T)({newsletterSlug:null==e||null===(n=e.newsletterV3)||void 0===n?void 0:n.slug,username:null==e?void 0:e.username}),u=c.viewerEdge,k=c.loading;return(o=null!==m.current?{value:m.current}:s||k?{loading:!0}:null!=e&&null!==(i=e.newsletterV3)&&void 0!==i&&i.showPromo?{value:!(!(null!=r&&r.isUser||null==u)&&u.isSubscribed)}:{value:!1}).loading||void 0===o.value||null!==m.current||(m.current=o.value),o}},75990:(e,n,i)=>{"use strict";i.d(n,{P:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShowCollectionNewsletterV3Promo_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"showPromo"}}]}}]}}]}},18704:(e,n,i)=>{"use strict";i.d(n,{N:()=>m});var t=i(28655),a=i.n(t),l=i(71439),o=i(67294),d=i(87691),r=i(21372);function s(){var e=a()(["\n  fragment PostListingReadingTime_post on Post {\n    readingTime\n  }\n"]);return s=function(){return e},e}function m(e){var n=e.readingTime,i=e.scale,t=void 0===i?"S":i,a=e.includeRead,l=void 0===a||a,s=e.color,m=e.tag,c=void 0===m?"span":m,u=l?" read":"";return o.createElement(d.F,{scale:t,color:s,tag:c,playwrightClassName:"pw-reading-time"},"".concat((0,r.Vd)(n||0)," min").concat(u))}(0,l.Ps)(s())},28096:(e,n,i)=>{"use strict";i.d(n,{X:()=>u,Z:()=>c});var t=i(319),a=i.n(t),l=i(31289),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EntityDrivenSubscriptionCallToAction_creator"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useShouldShowEntityDrivenSubscription_creator"}}]}}].concat(a()(l.G.definitions))},d=i(78620),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"LIHighlightMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UpsellClickable_post"}}]}}].concat(a()(d.H.definitions))},s=i(20121),m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MeterController_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"lockedSource"}},{kind:"FragmentSpread",name:{kind:"Name",value:"LIHighlightMeter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"LOHighlightMeter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiContainer_post"}}]}}].concat(a()(r.definitions),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"LOHighlightMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]),a()(s.qt.definitions))},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostHeader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3PostHeaderCTA_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntityDrivenSubscriptionCallToAction_creator"}}]}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"Field",name:{kind:"Name",value:"layerCake"}},{kind:"Field",name:{kind:"Name",value:"tags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"topics"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"MeterController_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNoteMissingNotification_post"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3PostHeaderCTA_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]),a()(o.definitions),a()(m.definitions),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNoteMissingNotification_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]))},u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostHeader_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MeterController_meteringInfo"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"MeterController_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postIds"}},{kind:"Field",name:{kind:"Name",value:"maxUnlockCount"}}]}}]))}},28750:(e,n,i)=>{"use strict";i.d(n,{m:()=>ke});var t=i(67294),a=i(28655),l=i.n(a),o=i(50008),d=i.n(o),r=i(63038),s=i.n(r),m=i(71439),c=i(12291),u=i(23450),k=i.n(u),p=i(34492),v=i(77355),S=function(e){var n=e.link,i=e.text,a=e.verticalMargins;return t.createElement(p.I,{verticalMargins:a},i," ",t.createElement(v.x,{display:"inline",whiteSpace:"nowrap"},n))},N=i(36405),f=i(6443),g=i(28451),V=i(43822),F=i(18627),y=i(66411),h=i(90924),E=i(43487),b=i(50458);function x(){var e=l()(["\n  fragment LIHighlightMeter_post on Post {\n    id\n    ...UpsellClickable_post\n  }\n  ","\n"]);return x=function(){return e},e}var P=function(e){var n=e.meterCount,i=e.meterLimit,a=e.post,l=(0,f.H)().value,o=(0,F.Av)(),d=null==l?void 0:l.isMembershipTrialEligible,r=!(!(0,N.P5)("enable_trial_upsell")||!d);t.useEffect((function(){o.event("meter.viewed",{uiType:g.j.LIHighlightCTA,postId:a.id,meterCount:n,userId:null==l?void 0:l.id}),d&&o.event("experiment.eligible",{experimentId:"6797776ba4cf"})}),[]);var s,m=(0,E.v9)((function(e){return e.config.authDomain})),c=t.createElement(h.M,{tag:"span"},t.createElement(V.a,{linkStyle:"OBVIOUS",post:a,inline:!0,redirectUrl:(0,b.c5p)(m)},r?"Start your free trial":"Upgrade for unlimited access."));return t.createElement(y.cW,{source:{dimension:"post_counter",name:"upgrade_membership",postId:a.id}},t.createElement(S,{text:(s=i-n,s<=0?t.createElement(t.Fragment,null,"This is your ",t.createElement("b",null,"last")," free member-only story this month."):t.createElement(t.Fragment,null,"You have ",t.createElement("b",null,s)," free member-only ",k()("story",s)," left this month.")),link:c}))},C=(0,m.Ps)(x(),V.H),_=i(26350);function w(){var e=l()(["\n  fragment LOHighlightMeter_post on Post {\n    id\n  }\n"]);return w=function(){return e},e}var A=function(e){switch(e){case 1:return t.createElement(t.Fragment,null,"You have ",t.createElement("b",null,"2")," free member-only stories left this month.");case 2:return t.createElement(t.Fragment,null,"You have ",t.createElement("b",null,"1")," free member-only story left this month.");case 3:return t.createElement(t.Fragment,null,"This is your ",t.createElement("b",null,"last")," free member-only story this month.");default:return t.createElement(t.Fragment,null,"You've read all your free member-only stories this month.")}},T=function(e){var n=e.meterCount,i=e.post,a=(0,E.v9)((function(e){return e.config.productName})),l=function(e){switch(e){case 3:return"metered_view_3";case 2:return"metered_view_2";case 1:default:return"smart_meter"}}(n),o=(0,F.Av)();t.useEffect((function(){o.event("meter.viewed",{uiType:g.j.LOHighlightCTA,postId:i.id,meterCount:n})}),[]);var d=t.createElement(_.R9,{linkStyle:"OBVIOUS",inline:!0,operation:"register",susiEntry:l},"Sign up for ".concat(a," and get an extra one"));return t.createElement(y.cW,{source:{postId:i.id}},t.createElement(S,{text:A(n),link:d,verticalMargins:{normal:"24px",small:"16px"}}))},D=(0,m.Ps)(w()),I=(i(59713),i(9273)),R=i(87498);function B(){var e=l()(["\n  query ReadNextQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      readNext {\n        ... on ReadNextItem {\n          reason\n          post {\n            ... on Post {\n              ...ReadNextPostCard_post\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return B=function(){return e},e}(0,m.Ps)(B(),I.Q);var M=i(59626),L=i(14646),O=i(80872),U=i(54712),H=i(98067);function z(){var e=l()(["\n  fragment MeterController_meteringInfo on MeteringInfo {\n    postIds\n    maxUnlockCount\n  }\n"]);return z=function(){return e},e}function Q(){var e=l()(["\n  fragment MeterController_post on Post {\n    creator {\n      id\n    }\n    isLocked\n    lockedSource\n    ...LIHighlightMeter_post\n    ...LOHighlightMeter_post\n    ...SusiContainer_post\n  }\n  ","\n  ","\n  ","\n"]);return Q=function(){return e},e}var W=function(e){var n=e.meteringInfo,i=e.post,a=e.viewer,l=t.useState(!1),o=s()(l,2),d=o[0],r=o[1],m=n.maxUnlockCount||3,c=n.postIds.length;return c<=m?(0,O.sy)()&&function(e){return e&&e.createdAt+R.pU>Date.now()}(a)?((0,O.Of)(),null):(d||r(!0),t.createElement(P,{meterCount:c,post:i,meterLimit:m})):null},Y=function(e){var n=e.meterCount,i=e.post,a=t.useState(!1),l=s()(a,2),o=l[0],d=l[1];switch(n){case 1:case 2:case 3:return o||d(!0),t.createElement(T,{meterCount:n,post:i});default:return null}},j=function(e){var n=e.meteringInfo,i=e.post,a=(0,c.I0)(),l=(0,L.I)(),o=(0,U.xg)(),r=t.useState(!1),m=s()(r,2),u=m[0],k=m[1];t.useEffect((function(){void 0!==("undefined"==typeof document?"undefined":d()(document))&&k(!0),a((0,H.Dl)(!1))}),[]);var p=(0,f.H)(),v=p.loading,S=p.error,N=p.value;if(v||S)return t.createElement(t.Fragment,null);var g=N&&N.mediumMemberAt||void 0,V=i&&i.creator&&i.creator.id||void 0,F=N&&N.id||void 0,y=N?g||V===F:"LOCKED_POST_SOURCE_SYNDICATED"===i.lockedSource,h=!u||!i.isLocked||!n.postIds.includes(i.id)||y,E=u&&!h,b={height:E?"100%":"0px",overflow:E?"inherit":"hidden",transition:"height 2s cubic-bezier(0.23, 1, 0.32, 1) 0s"},x=N?t.createElement(W,{meteringInfo:n,post:i,viewer:N}):t.createElement(Y,{meterCount:n.postIds.length,post:i});return t.createElement("div",{className:o?l(b):void 0},!h&&x)},G=((0,m.Ps)(Q(),C,D,M.qt),(0,m.Ps)(z()),i(46829)),K=i(81978),q=i(93310),Z=i(87691),$=i(75221).T3.IMPORT_AWARENESS_BANNER,X=function(e){var n=e.viewer,i=e.loading,a=(0,E.v9)((function(e){return e.config.authDomain})),l=!(null==n||!n.dismissableFlags.includes($)),o=(null==n?void 0:n.id)||"",d=(0,G.useMutation)(K.a,{variables:{userId:o,flag:$}}),r=s()(d,1)[0];return i||l?null:t.createElement(t.Fragment,null,t.createElement(p.I,{dismissable:!0,onClick:r},t.createElement(Z.F,{scale:"L",color:"DARKER",tag:"span"},t.createElement("strong",null,"New!")," You can now import subscribers into your email list."," "),t.createElement(q.r,{inline:!0,linkStyle:"SUBTLE",href:(0,b.sBN)(a)},t.createElement(Z.F,{scale:"L",color:"ERROR",tag:"span"},"Start an import."))))};function J(){var e=l()(["\n  fragment NewsletterV3PostHeaderCTA_collection on Collection {\n    id\n    domain\n    slug\n    name\n    newsletterV3 {\n      id\n      slug\n      name\n    }\n  }\n"]);return J=function(){return e},e}(0,m.Ps)(J());var ee=function(e){var n=e.collection,i=(0,E.v9)((function(e){return e.config.authDomain})),a=n.newsletterV3||{id:"",slug:"",name:""},l=(0,b.iBn)(a.slug,i,n),o=function(){return t.createElement(q.r,{inline:!0,linkStyle:"OBVIOUS",href:l},a.name)};return t.createElement(t.Fragment,null,t.createElement(p.I,null,n.newsletterV3?t.createElement(t.Fragment,null,"This is an email from ",t.createElement(o,null),", a newsletter by ",n.name,"."):t.createElement(t.Fragment,null,"This is an email from ",n.name,".")))},ne=i(5977),ie=i(9935),te=i(68894),ae=function(e){var n=e.children,i=e.onHide,a=void 0===i?function(){}:i,l=(0,te.O)(!0),o=s()(l,3),d=o[0],r=o[2],m=t.useCallback((function(){r(),a()}),[a]);return d?t.createElement(v.x,{border:"BASE_LIGHT",borderRadius:"4px",padding:"16px 8px 16px 28px",display:"flex",justifyContent:"space-between",alignItems:"center"},t.createElement(Z.F,{scale:"L",color:"DARKER"},n),t.createElement(ie.P,{onClick:m,isPositionAbsolute:!1,size:"REGULAR"})):null},le=i(77280),oe=i(39202);function de(){var e=l()(["\n  query PostNoteMissingNotificationQuery($postId: ID!, $postMeteringOptions: PostMeteringOptions) {\n    post(id: $postId) {\n      id\n      privateNotes {\n        id\n      }\n      content(postMeteringOptions: $postMeteringOptions) {\n        bodyModel {\n          paragraphs {\n            name\n          }\n        }\n      }\n    }\n  }\n"]);return de=function(){return e},e}function re(){var e=l()(["\n  fragment PostNoteMissingNotification_post on Post {\n    id\n  }\n"]);return re=function(){return e},e}var se=function(e){var n,i,a,l,o,d=e.post,r=(0,E.v9)((function(e){return e.navigation.referrer})),m=(0,ne.TH)().hash,c=(0,le.G1)(),u=(0,le.PM)(),k=(0,G.useLazyQuery)(me,{variables:{postId:null==d?void 0:d.id,postMeteringOptions:{referrer:r,sk:c,source:u}},ssr:!1}),p=s()(k,2),S=p[0],N=p[1],f=N.called,g=N.loading,V=N.error,F=N.data,y=null==m||null===(n=m.replace("#",""))||void 0===n?void 0:n.split("-"),h=s()(y,2),b=h[0],x=h[1],P=(null!=F?F:{}).post,C=null==P||null===(i=P.privateNotes)||void 0===i?void 0:i.find((function(e){return(null==e?void 0:e.id)===x})),_=null!==(a=null==P||null===(l=P.content)||void 0===l||null===(o=l.bodyModel)||void 0===o?void 0:o.paragraphs)&&void 0!==a?a:[],w=new Set(_.map((function(e){return e.name})).filter(oe.b)),A=!!C&&w.has(b),T=(0,te.O)(!!x&&!A),D=s()(T,3),I=D[0],R=D[1],B=D[2];return t.useEffect((function(){x&&!A?R():B()}),[A]),!f&&x&&S(),g||V||!I?null:t.createElement(v.x,{marginTop:"64px"},t.createElement(ae,{onHide:B},"The note you're looking for was deleted"))},me=((0,m.Ps)(re()),(0,m.Ps)(de())),ce=i(98863),ue=i(52278),ke=function(e){var n,i=e.meteringInfo,a=e.post,l=(0,ce.f)().isWorkingPreview,o=(0,f.H)(),d=o.value,r=o.loading,s=(null==d?void 0:d.id)===(null===(n=a.creator)||void 0===n?void 0:n.id);return t.createElement(ue.M,{columns:8,gutter:!1,padding:{xs:"0 8px",sm:"0 8px",md:"0 16px",lg:"0 16px",xl:"0 16px"},tag:"div"},t.createElement(se,{post:a}),s&&!l&&t.createElement(X,{viewer:d,loading:r}),a.isNewsletter&&!!a.collection&&t.createElement(ee,{collection:a.collection}),!!a.isLocked&&!!i&&t.createElement(j,{meteringInfo:i,post:a}))}},62021:(e,n,i)=>{"use strict";i.d(n,{Y:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNextFiveStories_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}},68714:(e,n,i)=>{"use strict";i.d(n,{R:()=>N});var t=i(319),a=i.n(t),l=i(93403),o=i(98007),d=i(10654),r=i(84683),s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ManageSubmission_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}}]}}].concat(a()(r.d.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ManageSubmission_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"statusForCollection"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ManageSubmission_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ManageSubmission_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}].concat(a()(s.definitions))},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionSubmissionOption_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}}]}}].concat(a()(r.d.definitions))},u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionSubmissionPopoverQuery_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionSubmissionOption_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ManageSubmission_collection"}}]}}].concat(a()(c.definitions),a()(s.definitions))},k={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionSubmission_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionSubmissionPopover_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionSubmissionPopoverMenuItem_post"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionSubmissionPopover_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionSubmissionPopoverMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"statusForCollection"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]))},p=([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CollectionSubmissionPopoverQuery"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"writerCollections"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionSubmissionPopoverQuery_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"adminCollections"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionSubmissionPopoverQuery_collection"}}]}}]}}]}}].concat(a()(u.definitions)),i(15855)),v=i(46786),S=i(51277),N={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostFooterActionsBar_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"BookmarkButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVote_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ManageSubmission_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionSubmission_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SharePostButtons_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterSocialPopover_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButtonWithNegativeSignal_post"}}]}}].concat(a()(l.z.definitions),a()(d.x.definitions),a()(o.qU.definitions),a()(m.definitions),a()(k.definitions),a()(p.E.definitions),a()(v.u.definitions),a()(S.v.definitions))}},98803:(e,n,i)=>{"use strict";i.d(n,{a:()=>c});var t=i(319),a=i.n(t),l=i(78693),o=i(93647),d=i(68216),r=i(71069),s=i(19308),m=i(6177),c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostFooterBylineAurora_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"bio"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserFollowButton_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"auroraHooks_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserSubscribeButton_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionFollowButton_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserFollowButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionFollowButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_post"}}]}}].concat(a()(l.s.definitions),a()(o.C.definitions),a()(d.$m.definitions),a()(r.w.definitions),a()(s.Iq.definitions),a()(d.nf.definitions),a()(l.S.definitions),a()(s.b3.definitions),a()(m.b.definitions))}},62077:(e,n,i)=>{"use strict";i.d(n,{R:()=>o});var t=i(319),a=i.n(t),l=i(68216),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostFooterCollectionButton_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}}].concat(a()(l.nf.definitions))}},82366:(e,n,i)=>{"use strict";i.d(n,{bj:()=>V,O9:()=>g});var t=i(319),a=i.n(t),l=i(57624),o=i(89748),d=i(95538),r=i(19945),s=i(93403),m=i(46786),c=i(10654),u=i(51277),k={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ExpandablePostFooter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ExpandablePostCardOverflowButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"BookmarkButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterSocialPopover_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVote_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButtonWithNegativeSignal_post"}}]}}].concat(a()(r.D.definitions),a()(s.z.definitions),a()(m.u.definitions),a()(c.x.definitions),a()(u.v.definitions))},p=i(56785),v=i(69724),S=i(43992),N=i(22447),f=i(77878),g=([{kind:"FragmentDefinition",name:{kind:"Name",value:"ExpandablePost_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Wall_meteringInfo"}}]}}].concat(a()(l.Y.definitions)),{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ExpandablePost_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CardByline_user"}}]}}].concat(a()(o.br.definitions))}),V={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ExpandablePost_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ExpandablePost_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CardByline_collection"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"InteractivePostBody_postPreview"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isSeries"}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"latestPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"inResponseToCatalogResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}}]}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"uniqueSlug"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CardByline_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ExpandablePostFooter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToEntityPreview_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostScrollTracker_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ReadMore_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"HighDensityPreview_post"}}]}}].concat(a()(g.definitions),a()(o.We.definitions),a()(d.m.definitions),a()(o.yu.definitions),a()(k.definitions),a()(p.V.definitions),a()(v.k.definitions),a()(S.q.definitions),a()(N.U.definitions))};[{kind:"FragmentDefinition",name:{kind:"Name",value:"ExpandablePostmergeContent_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"FragmentSpread",name:{kind:"Name",value:"markupPostBodyParagraphs_paragraph"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"extendedPreviewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"FragmentSpread",name:{kind:"Name",value:"markupPostBodyParagraphs_paragraph"}}]}}]}}]}}]}}].concat(a()(f.RF.definitions))},9273:(e,n,i)=>{"use strict";i.d(n,{Q:()=>o});var t=i(319),a=i.n(t),l=i(4088),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ReadNextPostCard_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"Field",name:{kind:"Name",value:"primaryTopic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"alt"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}}]}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostUrl_post"}}]}}].concat(a()(l.u.definitions))}},57189:(e,n,i)=>{"use strict";i.d(n,{N:()=>k});var t=i(67294),a=i(25145),l=i(4381),o=i(27323),d=i(77355),r=i(87691),s=i(8431),m=i(14646),c=i(43487),u=i(46696),k=function(e){var n,i=e.post,k=e.shouldDisplayTopic,p=void 0===k||k,v=e.withFixedWidth,S=void 0===v||v,N=(0,c.v9)((function(e){return e.config.mediumOwnedAndOperatedCollectionIds})),f=i&&i.previewImage||{},g=f.focusPercentX,V=f.focusPercentY,F=f.id,y=f.alt,h=i.collection||{},E=h.name,b=h.id,x=i.primaryTopic&&i.primaryTopic.name,P=b&&(N.includes(b)?E:x)||"",C=i&&i.title||"",_=(null==i||null===(n=i.previewContent)||void 0===n?void 0:n.subtitle)||"",w=(0,a.L)(i),A=F?"170px":"".concat(228,"px"),T=(0,m.I)();return t.createElement(o.P,{href:w},t.createElement(d.x,{display:"flex",flexDirection:"column",justifyContent:"center",marginBottom:"20px"},p?t.createElement(d.x,{marginBottom:"4px"},t.createElement(s.Lh,{tag:"span"},t.createElement(r.F,{scale:"S",color:"DARKER"},t.createElement("div",{className:T({whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"})},P)))):null,t.createElement(d.x,{display:"flex",flexDirection:"row"},F&&t.createElement(l.UV,{miroId:F||"",alt:y||"",height:58,width:58,freezeGifs:!0,strategy:u._S.Crop,rules:{marginRight:"8px",marginTop:"4px"},focusPercentX:g||50,focusPercentY:V||50}),t.createElement(d.x,{display:"flex",flexDirection:"column"},C&&t.createElement(r.F,{scale:"S",color:"DARKER",clamp:3,tag:"div"},t.createElement("div",{className:S?T({width:A}):void 0},C)),_&&(null==C?void 0:C.length)<45&&t.createElement(r.F,{scale:"S",color:"LIGHTER",clamp:1,tag:"div"},t.createElement("div",{className:S?T({width:A}):void 0},_))))))}},6223:(e,n,i)=>{"use strict";i.d(n,{L:()=>o});var t=i(68356),a=i.n(t),l=i(50742),o=a()({loader:function(){return Promise.all([i.e(84792),i.e(17084),i.e(28537),i.e(83551),i.e(67700),i.e(97417)]).then(i.bind(i,71026))},modules:["src/components/responses/post/ThreadedResponsesSidebar"],webpack:function(){return[71026]},loading:function(){return null},render:(0,l.n)("ThreadedResponsesSidebar")})},92258:(e,n,i)=>{"use strict";i.d(n,{k:()=>m});var t=i(63038),a=i.n(t),l=i(67294),o=i(6722),d=i(6223),r=i(43242),s=i(80745),m=function(e){var n=e.children,i=e.post,t=e.preload,m=void 0===t||t,c=l.useState(void 0),u=a()(c,2),k=u[0],p=u[1],v=l.useCallback((function(e){return function(n){p(n),e()}}),[]);return l.createElement(r.E,{preload:m},(function(e){var t=e.showPreviousSidebar,a=e.hasLoaded,r=e.initialSidebarRender,m=e.isVisible,c=e.continueThisThreadPosts,u=e.openSidebar,S=e.cleanupSidebar;return l.createElement(o.Q.Provider,{value:{openSidebarToRespondToHighlight:v(u)}},!!i&&a&&l.createElement(d.L,{isResponsesSidebarVisible:m&&0===c.length,parentPost:i,inResponseToQuote:k,setInResponseToQuote:p,showPreviousSidebar:t,cleanupSidebar:S,initialSidebarRender:!!r.current}),!!i&&a&&c.map((function(e,n,a){var o=(0,s.iI)(n);return l.createElement(d.L,{key:i.id,isResponsesSidebarVisible:m&&n===a.length-1,parentPost:i,inResponseToQuote:k,setInResponseToQuote:p,continueThisThreadPost:e,continueThisThreadPostDepth:o,showPreviousSidebar:t,cleanupSidebar:S,initialSidebarRender:!!r.current})})),n)}))}},43242:(e,n,i)=>{"use strict";i.d(n,{E:()=>v});var t=i(319),a=i.n(t),l=i(63038),o=i.n(l),d=i(38125),r=i.n(d),s=i(67294),m=i(6223),c=i(21232),u=i(31889),k=i(34135),p=i(77280),v=function(e){var n=e.preload,i=e.children,t=s.useState(!1),l=o()(t,2),d=l[0],v=l[1],S=(0,u.F)(),N=!!(0,p.Wd)("responsesOpen"),f=s.useState(!1),g=o()(f,2),V=g[0],F=g[1],y=s.useRef(!0),h=s.useRef(0),E=s.useState(!1),b=o()(E,2),x=b[0],P=b[1],C=s.useCallback((function(){return F(!0)}),[]),_=s.useState([]),w=o()(_,2),A=w[0],T=w[1],D=s.useCallback((function(e){y.current=!1,T([].concat(a()(A),[e]))}),[A]),I=s.useCallback((function(){T(r()(A))}),[A]),R=s.useCallback((function(){F(!1),T([]),y.current=!0}),[]);s.useEffect((function(){P(!0),F(N)}),[N]);var B=function(){window.innerWidth<S.breakpoints.md&&v(!0)};return s.useEffect((function(){return B(),k.V6.on("resize",B),function(){return k.V6.off("resize",B)}}),[]),s.useEffect((function(){var e,n,i=null===(e=window)||void 0===e||null===(n=e.document)||void 0===n?void 0:n.documentElement;return d&&null!=i&&i.style&&(V?(i.style.top="-".concat(h.current,"px"),h.current=i.scrollTop,i.style.overflow="hidden",i.style.position="fixed"):(i.style.overflow="",i.style.position="",i.style.top="",i.scrollTop=h.current)),function(){d&&null!=i&&i.style&&(i.style.overflow="",i.style.position="",i.style.top="",i.scrollTop=h.current)}}),[V]),s.useEffect((function(){n&&m.L.preload()}),[n]),s.createElement(c.f.Provider,{value:{addContinueThisThreadSidebar:D,openSidebar:C,closeSidebar:R}},i({showPreviousSidebar:I,hasLoaded:x,initialSidebarRender:y,isVisible:V,continueThisThreadPosts:A,openSidebar:C,cleanupSidebar:R}))}},15855:(e,n,i)=>{"use strict";i.d(n,{E:()=>o});var t=i(319),a=i.n(t),l=i(57572),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SharePostButtons_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SharePostButton_post"}}]}}].concat(a()(l.o.definitions))}},28451:(e,n,i)=>{"use strict";var t;i.d(n,{j:()=>t}),function(e){e.LOHighlightCTA="lo_highlight_cta",e.LIHighlightCTA="li_highlight_cta",e.RegWall="regwall",e.SyndicatedRegwall="syndicated_regwall"}(t||(t={}))},2220:(e,n,i)=>{"use strict";i.d(n,{y:()=>r});var t=i(67294),a=i(31889),l=i(14646),o=i(7650),d=function(e){return{fill:e.baseColor.text.lighter,paddingLeft:"6px",height:"100%",position:"relative",transform:"translateY(-1.25px)",fontSize:"15px",lineHeight:"20px"}},r=function(){var e=(0,a.F)(),n=(0,l.I)();return t.createElement("span",{className:n(d(e))},t.createElement(o.Z,null))}},15013:(e,n,i)=>{"use strict";i.d(n,{h:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPresentationTracker_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isFullContent"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]}}]}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/61483.e8fd58e0.chunk.js.map